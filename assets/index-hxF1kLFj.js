(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();const to=(e,t)=>e===t,De=Symbol("solid-proxy"),qt=Symbol("solid-track"),Wt={equals:to};let Br=Fr;const ze=1,Ht=2,Gr={owned:null,cleanups:null,context:null,owner:null},$n={};var H=null;let bn=null,U=null,fe=null,Ge=null,tn=0;function ot(e,t){const n=U,r=H,l=e.length===0,i=t===void 0?r:t,o=l?Gr:{owned:null,cleanups:null,context:i?i.context:null,owner:i},s=l?e:()=>e(()=>le(()=>ln(o)));H=o,U=null;try{return Me(s,!0)}finally{U=n,H=r}}function G(e,t){t=t?Object.assign({},Wt,t):Wt;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=l=>(typeof l=="function"&&(l=l(n.value)),jr(n,l));return[Vr.bind(n),r]}function vr(e,t,n){const r=on(e,t,!0,ze);wt(r)}function $(e,t,n){const r=on(e,t,!1,ze);wt(r)}function me(e,t,n){Br=co;const r=on(e,t,!1,ze);(!n||!n.render)&&(r.user=!0),Ge?Ge.push(r):wt(r)}function F(e,t,n){n=n?Object.assign({},Wt,n):Wt;const r=on(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,wt(r),Vr.bind(r)}function no(e){return e&&typeof e=="object"&&"then"in e}function ro(e,t,n){let r,l,i;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,l=e,i=t||{}):(r=e,l=t,i=n||{});let o=null,s=$n,a=!1,u="initialValue"in i,d=typeof r=="function"&&F(r);const f=new Set,[v,m]=(i.storage||G)(i.initialValue),[_,w]=G(void 0),[y,P]=G(void 0,{equals:!1}),[b,A]=G(u?"ready":"unresolved");function L(M,E,O,W){return o===M&&(o=null,W!==void 0&&(u=!0),(M===s||E===s)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(W,{value:E})),s=$n,R(E,O)),E}function R(M,E){Me(()=>{E===void 0&&m(()=>M),A(E!==void 0?"errored":u?"ready":"unresolved"),w(E);for(const O of f.keys())O.decrement();f.clear()},!1)}function q(){const M=so,E=v(),O=_();if(O!==void 0&&!o)throw O;return U&&!U.user&&M&&vr(()=>{y(),o&&(M.resolved||f.has(M)||(M.increment(),f.add(M)))}),E}function K(M=!0){if(M!==!1&&a)return;a=!1;const E=d?d():r;if(E==null||E===!1){L(o,le(v));return}const O=s!==$n?s:le(()=>l(E,{value:v(),refetching:M}));return no(O)?(o=O,"value"in O?(O.status==="success"?L(o,O.value,void 0,E):L(o,void 0,void 0,E),O):(a=!0,queueMicrotask(()=>a=!1),Me(()=>{A(u?"refreshing":"pending"),P()},!1),O.then(W=>L(O,W,void 0,E),W=>L(O,void 0,Wr(W),E)))):(L(o,O,void 0,E),O)}return Object.defineProperties(q,{state:{get:()=>b()},error:{get:()=>_()},loading:{get(){const M=b();return M==="pending"||M==="refreshing"}},latest:{get(){if(!u)return q();const M=_();if(M&&!o)throw M;return v()}}}),d?vr(()=>K(!1)):K(!1),[q,{refetch:K,mutate:m}]}function ne(e){return Me(e,!1)}function le(e){if(U===null)return e();const t=U;U=null;try{return e()}finally{U=t}}function yt(e,t,n){const r=Array.isArray(e);let l,i=n&&n.defer;return o=>{let s;if(r){s=Array(e.length);for(let u=0;u<e.length;u++)s[u]=e[u]()}else s=e();if(i){i=!1;return}const a=le(()=>t(s,l,o));return l=s,a}}function nt(e){return H===null||(H.cleanups===null?H.cleanups=[e]:H.cleanups.push(e)),e}function Dn(){return U}function io(){return H}function oo(e,t){const n=H,r=U;H=e,U=null;try{return Me(t,!0)}catch(l){qn(l)}finally{H=n,U=r}}function lo(e){const t=U,n=H;return Promise.resolve().then(()=>{U=t,H=n;let r;return Me(e,!1),U=H=null,r?r.done:void 0})}function Fn(e,t){const n=Symbol("context");return{id:n,Provider:fo(n),defaultValue:e}}function nn(e){return H&&H.context&&H.context[e.id]!==void 0?H.context[e.id]:e.defaultValue}function rn(e){const t=F(e),n=F(()=>En(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let so;function Vr(){if(this.sources&&this.state)if(this.state===ze)wt(this);else{const e=fe;fe=null,Me(()=>Ut(this),!1),fe=e}if(U){const e=this.observers?this.observers.length:0;U.sources?(U.sources.push(this),U.sourceSlots.push(e)):(U.sources=[this],U.sourceSlots=[e]),this.observers?(this.observers.push(U),this.observerSlots.push(U.sources.length-1)):(this.observers=[U],this.observerSlots=[U.sources.length-1])}return this.value}function jr(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Me(()=>{for(let l=0;l<e.observers.length;l+=1){const i=e.observers[l],o=bn&&bn.running;o&&bn.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?fe.push(i):Ge.push(i),i.observers&&qr(i)),o||(i.state=ze)}if(fe.length>1e6)throw fe=[],new Error},!1)),t}function wt(e){if(!e.fn)return;ln(e);const t=tn;ao(e,e.value,t)}function ao(e,t,n){let r;const l=H,i=U;U=H=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=ze,e.owned&&e.owned.forEach(ln),e.owned=null),e.updatedAt=n+1,qn(o)}finally{U=i,H=l}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?jr(e,r):e.value=r,e.updatedAt=n)}function on(e,t,n,r=ze,l){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:H,context:H?H.context:null,pure:n};return H===null||H!==Gr&&(H.owned?H.owned.push(i):H.owned=[i]),i}function zt(e){if(e.state===0)return;if(e.state===Ht)return Ut(e);if(e.suspense&&le(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<tn);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===ze)wt(e);else if(e.state===Ht){const r=fe;fe=null,Me(()=>Ut(e,t[0]),!1),fe=r}}function Me(e,t){if(fe)return e();let n=!1;t||(fe=[]),Ge?n=!0:Ge=[],tn++;try{const r=e();return uo(n),r}catch(r){n||(Ge=null),fe=null,qn(r)}}function uo(e){if(fe&&(Fr(fe),fe=null),e)return;const t=Ge;Ge=null,t.length&&Me(()=>Br(t),!1)}function Fr(e){for(let t=0;t<e.length;t++)zt(e[t])}function co(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:zt(r)}for(t=0;t<n;t++)zt(e[t])}function Ut(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const l=r.state;l===ze?r!==t&&(!r.updatedAt||r.updatedAt<tn)&&zt(r):l===Ht&&Ut(r,t)}}}function qr(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Ht,n.pure?fe.push(n):Ge.push(n),n.observers&&qr(n))}}function ln(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),l=n.observers;if(l&&l.length){const i=l.pop(),o=n.observerSlots.pop();r<l.length&&(i.sourceSlots[o]=r,l[r]=i,n.observerSlots[r]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ln(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Wr(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function qn(e,t=H){throw Wr(e)}function En(e){if(typeof e=="function"&&!e.length)return En(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=En(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function fo(e,t){return function(r){let l;return $(()=>l=le(()=>(H.context={...H.context,[e]:r.value},rn(()=>r.children))),void 0),l}}const Ln=Symbol("fallback");function Kt(e){for(let t=0;t<e.length;t++)e[t]()}function go(e,t,n={}){let r=[],l=[],i=[],o=0,s=t.length>1?[]:null;return nt(()=>Kt(i)),()=>{let a=e()||[],u,d;return a[qt],le(()=>{let v=a.length,m,_,w,y,P,b,A,L,R;if(v===0)o!==0&&(Kt(i),i=[],r=[],l=[],o=0,s&&(s=[])),n.fallback&&(r=[Ln],l[0]=ot(q=>(i[0]=q,n.fallback())),o=1);else if(o===0){for(l=new Array(v),d=0;d<v;d++)r[d]=a[d],l[d]=ot(f);o=v}else{for(w=new Array(v),y=new Array(v),s&&(P=new Array(v)),b=0,A=Math.min(o,v);b<A&&r[b]===a[b];b++);for(A=o-1,L=v-1;A>=b&&L>=b&&r[A]===a[L];A--,L--)w[L]=l[A],y[L]=i[A],s&&(P[L]=s[A]);for(m=new Map,_=new Array(L+1),d=L;d>=b;d--)R=a[d],u=m.get(R),_[d]=u===void 0?-1:u,m.set(R,d);for(u=b;u<=A;u++)R=r[u],d=m.get(R),d!==void 0&&d!==-1?(w[d]=l[u],y[d]=i[u],s&&(P[d]=s[u]),d=_[d],m.set(R,d)):i[u]();for(d=b;d<v;d++)d in w?(l[d]=w[d],i[d]=y[d],s&&(s[d]=P[d],s[d](d))):l[d]=ot(f);l=l.slice(0,o=v),r=a.slice(0)}return l});function f(v){if(i[d]=v,s){const[m,_]=G(d);return s[d]=_,t(a[d],m)}return t(a[d])}}}function vo(e,t,n={}){let r=[],l=[],i=[],o=[],s=0,a;return nt(()=>Kt(i)),()=>{const u=e()||[];return u[qt],le(()=>{if(u.length===0)return s!==0&&(Kt(i),i=[],r=[],l=[],s=0,o=[]),n.fallback&&(r=[Ln],l[0]=ot(f=>(i[0]=f,n.fallback())),s=1),l;for(r[0]===Ln&&(i[0](),i=[],r=[],l=[],s=0),a=0;a<u.length;a++)a<r.length&&r[a]!==u[a]?o[a](()=>u[a]):a>=r.length&&(l[a]=ot(d));for(;a<r.length;a++)i[a]();return s=o.length=i.length=u.length,r=u.slice(0),l=l.slice(0,s)});function d(f){i[a]=f;const[v,m]=G(u[a]);return o[a]=m,t(v,a)}}}function c(e,t){return le(()=>e(t||{}))}function Rt(){return!0}const On={get(e,t,n){return t===De?n:e.get(t)},has(e,t){return t===De?!0:e.has(t)},set:Rt,deleteProperty:Rt,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Rt,deleteProperty:Rt}},ownKeys(e){return e.keys()}};function yn(e){return(e=typeof e=="function"?e():e)?e:{}}function ho(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function te(...e){let t=!1;for(let i=0;i<e.length;i++){const o=e[i];t=t||!!o&&De in o,e[i]=typeof o=="function"?(t=!0,F(o)):o}if(t)return new Proxy({get(i){for(let o=e.length-1;o>=0;o--){const s=yn(e[o])[i];if(s!==void 0)return s}},has(i){for(let o=e.length-1;o>=0;o--)if(i in yn(e[o]))return!0;return!1},keys(){const i=[];for(let o=0;o<e.length;o++)i.push(...Object.keys(yn(e[o])));return[...new Set(i)]}},On);const n={},r={},l=new Set;for(let i=e.length-1;i>=0;i--){const o=e[i];if(!o)continue;const s=Object.getOwnPropertyNames(o);for(let a=0,u=s.length;a<u;a++){const d=s[a];if(d==="__proto__"||d==="constructor")continue;const f=Object.getOwnPropertyDescriptor(o,d);if(!l.has(d))f.get?(l.add(d),Object.defineProperty(n,d,{enumerable:!0,configurable:!0,get:ho.bind(r[d]=[f.get.bind(o)])})):(f.value!==void 0&&l.add(d),n[d]=f.value);else{const v=r[d];v?f.get?v.push(f.get.bind(o)):f.value!==void 0&&v.push(()=>f.value):n[d]===void 0&&(n[d]=f.value)}}}return n}function Hr(e,...t){if(De in e){const l=new Set(t.length>1?t.flat():t[0]),i=t.map(o=>new Proxy({get(s){return o.includes(s)?e[s]:void 0},has(s){return o.includes(s)&&s in e},keys(){return o.filter(s=>s in e)}},On));return i.push(new Proxy({get(o){return l.has(o)?void 0:e[o]},has(o){return l.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!l.has(o))}},On)),i}const n={},r=t.map(()=>({}));for(const l of Object.getOwnPropertyNames(e)){const i=Object.getOwnPropertyDescriptor(e,l),o=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let s=!1,a=0;for(const u of t)u.includes(l)&&(s=!0,o?r[a][l]=i.value:Object.defineProperty(r[a],l,i)),++a;s||(o?n[l]=i.value:Object.defineProperty(n,l,i))}return[...r,n]}const zr=e=>`Stale read from <${e}>.`;function Ve(e){const t="fallback"in e&&{fallback:()=>e.fallback};return F(go(()=>e.each,e.children,t||void 0))}function Ct(e){const t="fallback"in e&&{fallback:()=>e.fallback};return F(vo(()=>e.each,e.children,t||void 0))}function B(e){const t=e.keyed,n=F(()=>e.when,void 0,{equals:(r,l)=>t?r===l:!r==!l});return F(()=>{const r=n();if(r){const l=e.children;return typeof l=="function"&&l.length>0?le(()=>l(t?r:()=>{if(!le(n))throw zr("Show");return e.when})):l}return e.fallback},void 0,void 0)}function Wn(e){let t=!1;const n=(i,o)=>i[0]===o[0]&&(t?i[1]===o[1]:!i[1]==!o[1])&&i[2]===o[2],r=rn(()=>e.children),l=F(()=>{let i=r();Array.isArray(i)||(i=[i]);for(let o=0;o<i.length;o++){const s=i[o].when;if(s)return t=!!i[o].keyed,[o,s,i[o]]}return[-1]},void 0,{equals:n});return F(()=>{const[i,o,s]=l();if(i<0)return e.fallback;const a=s.children;return typeof a=="function"&&a.length>0?le(()=>a(t?o:()=>{if(le(l)[0]!==i)throw zr("Match");return s.when})):a},void 0,void 0)}function ee(e){return e}const _o=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],mo=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",..._o]),$o=new Set(["innerHTML","textContent","innerText","children"]),bo=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),yo=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function wo(e,t){const n=yo[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Co=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),xo={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function So(e,t,n){let r=n.length,l=t.length,i=r,o=0,s=0,a=t[l-1].nextSibling,u=null;for(;o<l||s<i;){if(t[o]===n[s]){o++,s++;continue}for(;t[l-1]===n[i-1];)l--,i--;if(l===o){const d=i<r?s?n[s-1].nextSibling:n[i-s]:a;for(;s<i;)e.insertBefore(n[s++],d)}else if(i===s)for(;o<l;)(!u||!u.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[i-1]&&n[s]===t[l-1]){const d=t[--l].nextSibling;e.insertBefore(n[s++],t[o++].nextSibling),e.insertBefore(n[--i],d),t[l]=n[i]}else{if(!u){u=new Map;let f=s;for(;f<i;)u.set(n[f],f++)}const d=u.get(t[o]);if(d!=null)if(s<d&&d<i){let f=o,v=1,m;for(;++f<l&&f<i&&!((m=u.get(t[f]))==null||m!==d+v);)v++;if(v>d-s){const _=t[o];for(;s<d;)e.insertBefore(n[s++],_)}else e.replaceChild(n[s++],t[o++])}else o++;else t[o++].remove()}}}const hr="_$DX_DELEGATE";function Po(e,t,n,r={}){let l;return ot(i=>{l=i,t===document?e():h(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{l(),t.textContent=""}}function S(e,t,n){let r;const l=()=>{const o=document.createElement("template");return o.innerHTML=e,n?o.content.firstChild.firstChild:o.content.firstChild},i=t?()=>le(()=>document.importNode(r||(r=l()),!0)):()=>(r||(r=l())).cloneNode(!0);return i.cloneNode=i,i}function we(e,t=window.document){const n=t[hr]||(t[hr]=new Set);for(let r=0,l=e.length;r<l;r++){const i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,Ro))}}function je(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function ko(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function g(e,t){t==null?e.removeAttribute("class"):e.className=t}function Ao(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const l=n[0];e.addEventListener(t,n[0]=i=>l.call(e,n[1],i))}else e.addEventListener(t,n)}function Do(e,t,n={}){const r=Object.keys(t||{}),l=Object.keys(n);let i,o;for(i=0,o=l.length;i<o;i++){const s=l[i];!s||s==="undefined"||t[s]||(_r(e,s,!1),delete n[s])}for(i=0,o=r.length;i<o;i++){const s=r[i],a=!!t[s];!s||s==="undefined"||n[s]===a||!a||(_r(e,s,!0),n[s]=a)}return n}function Eo(e,t,n){if(!t)return n?je(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let l,i;for(i in n)t[i]==null&&r.removeProperty(i),delete n[i];for(i in t)l=t[i],l!==n[i]&&(r.setProperty(i,l),n[i]=l);return n}function Ur(e,t={},n,r){const l={};return r||$(()=>l.children=_t(e,t.children,l.children)),$(()=>t.ref&&t.ref(e)),$(()=>Lo(e,t,n,!0,l,!0)),l}function Xt(e,t,n){return le(()=>e(t,n))}function h(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return _t(e,t,r,n);$(l=>_t(e,t(),l,n),r)}function Lo(e,t,n,r,l={},i=!1){t||(t={});for(const o in l)if(!(o in t)){if(o==="children")continue;l[o]=mr(e,o,null,l[o],n,i)}for(const o in t){if(o==="children"){r||_t(e,t.children);continue}const s=t[o];l[o]=mr(e,o,s,l[o],n,i)}}function Oo(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function _r(e,t,n){const r=t.trim().split(/\s+/);for(let l=0,i=r.length;l<i;l++)e.classList.toggle(r[l],n)}function mr(e,t,n,r,l,i){let o,s,a,u,d;if(t==="style")return Eo(e,n,r);if(t==="classList")return Do(e,n,r);if(n===r)return r;if(t==="ref")i||n(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);r&&e.removeEventListener(f,r),n&&e.addEventListener(f,n)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);r&&e.removeEventListener(f,r,!0),n&&e.addEventListener(f,n,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),v=Co.has(f);if(!v&&r){const m=Array.isArray(r)?r[0]:r;e.removeEventListener(f,m)}(v||n)&&(Ao(e,f,n,v),v&&we([f]))}else if(t.slice(0,5)==="attr:")je(e,t.slice(5),n);else if((d=t.slice(0,5)==="prop:")||(a=$o.has(t))||!l&&((u=wo(t,e.tagName))||(s=mo.has(t)))||(o=e.nodeName.includes("-")))d&&(t=t.slice(5),s=!0),t==="class"||t==="className"?g(e,n):o&&!s&&!a?e[Oo(t)]=n:e[u||t]=n;else{const f=l&&t.indexOf(":")>-1&&xo[t.split(":")[0]];f?ko(e,f,t,n):je(e,bo[t]||t,n)}return n}function Ro(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const l=n[`${t}Data`];if(l!==void 0?r.call(n,l,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function _t(e,t,n,r,l){for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,i==="string"||i==="number")if(i==="number"&&(t=t.toString()),o){let s=n[0];s&&s.nodeType===3?s.data=t:s=document.createTextNode(t),n=ct(e,n,r,s)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||i==="boolean")n=ct(e,n,r);else{if(i==="function")return $(()=>{let s=t();for(;typeof s=="function";)s=s();n=_t(e,s,n,r)}),()=>n;if(Array.isArray(t)){const s=[],a=n&&Array.isArray(n);if(Rn(s,t,n,l))return $(()=>n=_t(e,s,n,r,!0)),()=>n;if(s.length===0){if(n=ct(e,n,r),o)return n}else a?n.length===0?$r(e,s,r):So(e,n,s):(n&&ct(e),$r(e,s));n=s}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=ct(e,n,r,t);ct(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Rn(e,t,n,r){let l=!1;for(let i=0,o=t.length;i<o;i++){let s=t[i],a=n&&n[i],u;if(!(s==null||s===!0||s===!1))if((u=typeof s)=="object"&&s.nodeType)e.push(s);else if(Array.isArray(s))l=Rn(e,s,a)||l;else if(u==="function")if(r){for(;typeof s=="function";)s=s();l=Rn(e,Array.isArray(s)?s:[s],Array.isArray(a)?a:[a])||l}else e.push(s),l=!0;else{const d=String(s);a&&a.nodeType===3&&a.data===d?e.push(a):e.push(document.createTextNode(d))}}return l}function $r(e,t,n=null){for(let r=0,l=t.length;r<l;r++)e.insertBefore(t[r],n)}function ct(e,t,n,r){if(n===void 0)return e.textContent="";const l=r||document.createTextNode("");if(t.length){let i=!1;for(let o=t.length-1;o>=0;o--){const s=t[o];if(l!==s){const a=s.parentNode===e;!i&&!o?a?e.replaceChild(l,s):e.insertBefore(l,n):a&&s.remove()}else i=!0}}else e.insertBefore(l,n);return[l]}const Kr=!1;function Mo(){let e=new Set;function t(l){return e.add(l),()=>e.delete(l)}let n=!1;function r(l,i){if(n)return!(n=!1);const o={to:l,options:i,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const s of e)s.listener({...o,from:s.location,retry:a=>{a&&(n=!0),s.navigate(l,i)}});return!o.defaultPrevented}return{subscribe:t,confirm:r}}const No=/^(?:[a-z0-9]+:)?\/\//i,To=/^\/+|(\/)\/+$/g;function lt(e,t=!1){const n=e.replace(To,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Gt(e,t,n){if(No.test(t))return;const r=lt(e),l=n&&lt(n);let i="";return!l||t.startsWith("/")?i=r:l.toLowerCase().indexOf(r.toLowerCase())!==0?i=r+l:i=l,(i||"/")+lt(t,!i)}function Io(e,t){if(e==null)throw new Error(t);return e}function Bo(e,t){return lt(e).replace(/\/*(\*.*)?$/g,"")+lt(t)}function Xr(e){const t={};return e.searchParams.forEach((n,r)=>{t[r]=n}),t}function Go(e,t,n){const[r,l]=e.split("/*",2),i=r.split("/").filter(Boolean),o=i.length;return s=>{const a=s.split("/").filter(Boolean),u=a.length-o;if(u<0||u>0&&l===void 0&&!t)return null;const d={path:o?"":"/",params:{}},f=v=>n===void 0?void 0:n[v];for(let v=0;v<o;v++){const m=i[v],_=a[v],w=m[0]===":",y=w?m.slice(1):m;if(w&&wn(_,f(y)))d.params[y]=_;else if(w||!wn(_,m))return null;d.path+=`/${_}`}if(l){const v=u?a.slice(-u).join("/"):"";if(wn(v,f(l)))d.params[l]=v;else return null}return d}}function wn(e,t){const n=r=>r.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Vo(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((l,i)=>l+(i.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function Zr(e){const t=new Map,n=io();return new Proxy({},{get(r,l){return t.has(l)||oo(n,()=>t.set(l,F(()=>e()[l]))),t.get(l)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function jo(e,t){const n=new URLSearchParams(e);Object.entries(t).forEach(([l,i])=>{i==null||i===""?n.delete(l):n.set(l,String(i))});const r=n.toString();return r?`?${r}`:""}function Jr(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const l=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)l.push(n+=t[1]),r=r.slice(t[0].length);return Jr(r).reduce((i,o)=>[...i,...l.map(s=>s+o)],[])}const Fo=100,Yr=Fn(),sn=Fn(),an=()=>Io(nn(Yr),"Make sure your app is wrapped in a <Router />"),Qr=()=>nn(sn)||an().base,qo=e=>{const t=Qr();return F(()=>t.resolvePath(e()))},Wo=e=>{const t=an();return F(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},At=()=>an().navigatorFactory(),Hn=()=>an().location,zn=()=>Qr().params,Ho=()=>{const e=Hn(),t=At(),n=(r,l)=>{const i=le(()=>e.pathname+jo(e.search,r)+e.hash);t(i,{scroll:!1,resolve:!1,...l})};return[e.query,n]};function zo(e,t=""){const{component:n,load:r,children:l,metadata:i}=e,o=!l||Array.isArray(l)&&!l.length,s={key:e,component:n,load:r,metadata:i};return pr(e.path).reduce((a,u)=>{for(const d of Jr(u)){const f=Bo(t,d),v=o?f:f.split("/*",1)[0];a.push({...s,originalPath:d,pattern:v,matcher:Go(v,!o,e.matchFilters)})}return a},[])}function Uo(e,t=0){return{routes:e,score:Vo(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let l=e.length-1;l>=0;l--){const i=e[l],o=i.matcher(n);if(!o)return null;r.unshift({...o,route:i})}return r}}}function pr(e){return Array.isArray(e)?e:[e]}function ei(e,t="",n=[],r=[]){const l=pr(e);for(let i=0,o=l.length;i<o;i++){const s=l[i];if(s&&typeof s=="object"){s.hasOwnProperty("path")||(s.path="");const a=zo(s,t);for(const u of a){n.push(u);const d=Array.isArray(s.children)&&s.children.length===0;if(s.children&&!d)ei(s.children,u.pattern,n,r);else{const f=Uo([...n],r.length);r.push(f)}n.pop()}}}return n.length?r:r.sort((i,o)=>o.score-i.score)}function ti(e,t){for(let n=0,r=e.length;n<r;n++){const l=e[n].matcher(t);if(l)return l}return[]}function Ko(e,t){const n=new URL("http://sar"),r=F(a=>{const u=e();try{return new URL(u,n)}catch{return console.error(`Invalid path ${u}`),a}},n,{equals:(a,u)=>a.href===u.href}),l=F(()=>r().pathname),i=F(()=>r().search,!0),o=F(()=>r().hash),s=()=>"";return{get pathname(){return l()},get search(){return i()},get hash(){return o()},get state(){return t()},get key(){return s()},query:Zr(yt(i,()=>Xr(r())))}}let Ye;function Xo(e,t,n={}){const{signal:[r,l],utils:i={}}=e,o=i.parsePath||(E=>E),s=i.renderPath||(E=>E),a=i.beforeLeave||Mo(),u=Gt("",n.base||"");if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!r().value&&l({value:u,replace:!0,scroll:!1});const[d,f]=G(!1),v=async E=>{f(!0);try{await lo(E)}finally{f(!1)}},[m,_]=G(r().value),[w,y]=G(r().state),P=Ko(m,w),b=[],A=G([]),L={pattern:u,params:{},path:()=>u,outlet:()=>null,resolvePath(E){return Gt(u,E)}};return $(()=>{const{value:E,state:O}=r();le(()=>{E!==m()&&v(()=>{Ye="native",_(E),y(O),A[1]([])}).then(()=>{Ye=void 0})})}),{base:L,location:P,isRouting:d,renderPath:s,parsePath:o,navigatorFactory:q,beforeLeave:a,preloadRoute:M,submissions:A};function R(E,O,W){le(()=>{if(typeof O=="number"){O&&(i.go?a.confirm(O,W)&&i.go(O):console.warn("Router integration does not support relative routing"));return}const{replace:Y,resolve:ae,scroll:Q,state:k}={replace:!1,resolve:!0,scroll:!0,...W},re=ae?E.resolvePath(O):Gt("",O);if(re===void 0)throw new Error(`Path '${O}' is not a routable path`);if(b.length>=Fo)throw new Error("Too many redirects");const he=m();if((re!==he||k!==w())&&!Kr){if(a.confirm(re,W)){const Ee=b.push({value:he,replace:Y,scroll:Q,state:w()});v(()=>{Ye="navigate",_(re),y(k),A[1]([])}).then(()=>{b.length===Ee&&(Ye=void 0,K({value:re,state:k}))})}}})}function q(E){return E=E||nn(sn)||L,(O,W)=>R(E,O,W)}function K(E){const O=b[0];O&&((E.value!==O.value||E.state!==O.state)&&l({...E,replace:O.replace,scroll:O.scroll}),b.length=0)}function M(E,O){const W=ti(t(),E.pathname),Y=Ye;Ye="preload";for(let ae in W){const{route:Q,params:k}=W[ae];Q.component&&Q.component.preload&&Q.component.preload(),O&&Q.load&&Q.load({params:k,location:{pathname:E.pathname,search:E.search,hash:E.hash,query:Xr(E),state:null,key:""},intent:"preload"})}Ye=Y}}function Zo(e,t,n,r,l){const{base:i,location:o}=e,{pattern:s,component:a,load:u}=r().route,d=F(()=>r().path);a&&a.preload&&a.preload();const f=u?u({params:l,location:o,intent:Ye||"initial"}):void 0;return{parent:t,pattern:s,path:d,params:l,outlet:()=>a?c(a,{params:l,location:o,data:f,get children(){return n()}}):n(),resolvePath(m){return Gt(i.path(),m,d())}}}const Jo=e=>t=>{const{base:n}=t,r=rn(()=>t.children),l=F(()=>ei(t.root?{component:t.root,children:r()}:r(),t.base||"")),i=Xo(e,l,{base:n});return e.create&&e.create(i),c(Yr.Provider,{value:i,get children(){return c(Yo,{routerState:i,get branches(){return l()}})}})};function Yo(e){const t=F(()=>ti(e.branches,e.routerState.location.pathname)),n=Zr(()=>{const o=t(),s={};for(let a=0;a<o.length;a++)Object.assign(s,o[a].params);return s}),r=[];let l;const i=F(yt(t,(o,s,a)=>{let u=s&&o.length===s.length;const d=[];for(let f=0,v=o.length;f<v;f++){const m=s&&s[f],_=o[f];a&&m&&_.route.key===m.route.key?d[f]=a[f]:(u=!1,r[f]&&r[f](),ot(w=>{r[f]=w,d[f]=Zo(e.routerState,d[f-1]||e.routerState.base,Qo(()=>i()[f+1]),()=>t()[f],n)}))}return r.splice(o.length).forEach(f=>f()),a&&u?a:(l=d[0],d)}));return c(B,{get when(){return i()&&l},keyed:!0,children:o=>c(sn.Provider,{value:o,get children(){return o.outlet()}})})}const Qo=e=>()=>c(B,{get when(){return e()},keyed:!0,children:t=>c(sn.Provider,{value:t,get children(){return t.outlet()}})}),Mt=e=>{const t=rn(()=>e.children);return te(e,{get children(){return t()}})};function po([e,t],n,r){return[n?()=>n(e()):e,r?l=>t(r(l)):t]}function el(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function tl(e){let t=!1;const n=l=>typeof l=="string"?{value:l}:l,r=po(G(n(e.get()),{equals:(l,i)=>l.value===i.value}),void 0,l=>(!t&&e.set(l),l));return e.init&&nt(e.init((l=e.get())=>{t=!0,r[1](n(l)),t=!1})),Jo({signal:r,create:e.create,utils:e.utils})}function nl(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function rl(e,t){const n=el(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const Mn=Symbol("store-raw"),ft=Symbol("store-node"),Ie=Symbol("store-has"),ni=Symbol("store-self");function ri(e){let t=e[De];if(!t&&(Object.defineProperty(e,De,{value:t=new Proxy(e,ll)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let l=0,i=n.length;l<i;l++){const o=n[l];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(t)})}}return t}function Zt(e){let t;return e!=null&&typeof e=="object"&&(e[De]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function ye(e,t=new Set){let n,r,l,i;if(n=e!=null&&e[Mn])return n;if(!Zt(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,s=e.length;o<s;o++)l=e[o],(r=ye(l,t))!==l&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let a=0,u=o.length;a<u;a++)i=o[a],!s[i].get&&(l=e[i],(r=ye(l,t))!==l&&(e[i]=r))}return e}function Jt(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function Pt(e,t,n){if(e[t])return e[t];const[r,l]=G(n,{equals:!1,internal:!0});return r.$=l,e[t]=r}function il(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===De||t===ft||(delete n.value,delete n.writable,n.get=()=>e[De][t]),n}function ii(e){Dn()&&Pt(Jt(e,ft),ni)()}function ol(e){return ii(e),Reflect.ownKeys(e)}const ll={get(e,t,n){if(t===Mn)return e;if(t===De)return n;if(t===qt)return ii(e),n;const r=Jt(e,ft),l=r[t];let i=l?l():e[t];if(t===ft||t===Ie||t==="__proto__")return i;if(!l){const o=Object.getOwnPropertyDescriptor(e,t);Dn()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(i=Pt(r,t,i)())}return Zt(i)?ri(i):i},has(e,t){return t===Mn||t===De||t===qt||t===ft||t===Ie||t==="__proto__"?!0:(Dn()&&Pt(Jt(e,Ie),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:ol,getOwnPropertyDescriptor:il};function Yt(e,t,n,r=!1){if(!r&&e[t]===n)return;const l=e[t],i=e.length;n===void 0?(delete e[t],e[Ie]&&e[Ie][t]&&l!==void 0&&e[Ie][t].$()):(e[t]=n,e[Ie]&&e[Ie][t]&&l===void 0&&e[Ie][t].$());let o=Jt(e,ft),s;if((s=Pt(o,t,l))&&s.$(()=>n),Array.isArray(e)&&e.length!==i){for(let a=e.length;a<i;a++)(s=o[a])&&s.$();(s=Pt(o,"length",i))&&s.$(e.length)}(s=o[ni])&&s.$()}function oi(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const l=n[r];Yt(e,l,t[l])}}function sl(e,t){if(typeof t=="function"&&(t=t(e)),t=ye(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const l=t[n];e[n]!==l&&Yt(e,n,l)}Yt(e,"length",r)}else oi(e,t)}function St(e,t,n=[]){let r,l=e;if(t.length>1){r=t.shift();const o=typeof r,s=Array.isArray(e);if(Array.isArray(r)){for(let a=0;a<r.length;a++)St(e,[r[a]].concat(t),n);return}else if(s&&o==="function"){for(let a=0;a<e.length;a++)r(e[a],a)&&St(e,[a].concat(t),n);return}else if(s&&o==="object"){const{from:a=0,to:u=e.length-1,by:d=1}=r;for(let f=a;f<=u;f+=d)St(e,[f].concat(t),n);return}else if(t.length>1){St(e[r],t,[r].concat(n));return}l=e[r],n=[r].concat(n)}let i=t[0];typeof i=="function"&&(i=i(l,n),i===l)||r===void 0&&i==null||(i=ye(i),r===void 0||Zt(l)&&Zt(i)&&!Array.isArray(i)?oi(l,i):Yt(e,r,i))}function Dt(...[e,t]){const n=ye(e||{}),r=Array.isArray(n),l=ri(n);function i(...o){ne(()=>{r&&o.length===1?sl(n,o[0]):St(n,o)})}return[l,i]}const al=new Map;function ul(e=!0,t=!1,n="/_server"){return r=>{const l=r.base.path(),i=r.navigatorFactory(r.base);let o={};function s(_){return _.namespaceURI==="http://www.w3.org/2000/svg"}function a(_){if(_.defaultPrevented||_.button!==0||_.metaKey||_.altKey||_.ctrlKey||_.shiftKey)return;const w=_.composedPath().find(R=>R instanceof Node&&R.nodeName.toUpperCase()==="A");if(!w||t&&!w.getAttribute("link"))return;const y=s(w),P=y?w.href.baseVal:w.href;if((y?w.target.baseVal:w.target)||!P&&!w.hasAttribute("state"))return;const A=(w.getAttribute("rel")||"").split(/\s+/);if(w.hasAttribute("download")||A&&A.includes("external"))return;const L=y?new URL(P,document.baseURI):new URL(P);if(!(L.origin!==window.location.origin||l&&L.pathname&&!L.pathname.toLowerCase().startsWith(l.toLowerCase())))return[w,L]}function u(_){const w=a(_);if(!w)return;const[y,P]=w,b=r.parsePath(P.pathname+P.search+P.hash),A=y.getAttribute("state");_.preventDefault(),i(b,{resolve:!1,replace:y.hasAttribute("replace"),scroll:!y.hasAttribute("noscroll"),state:A&&JSON.parse(A)})}function d(_){const w=a(_);if(!w)return;const[y,P]=w;o[P.pathname]||r.preloadRoute(P,y.getAttribute("preload")!=="false")}function f(_){const w=a(_);if(!w)return;const[y,P]=w;o[P.pathname]||(o[P.pathname]=setTimeout(()=>{r.preloadRoute(P,y.getAttribute("preload")!=="false"),delete o[P.pathname]},200))}function v(_){const w=a(_);if(!w)return;const[,y]=w;o[y.pathname]&&(clearTimeout(o[y.pathname]),delete o[y.pathname])}function m(_){let w=_.submitter&&_.submitter.hasAttribute("formaction")?_.submitter.formAction:_.target.action;if(!w)return;if(!w.startsWith("action:")){const P=new URL(w);if(w=r.parsePath(P.pathname+P.search),!w.startsWith(n))return}if(_.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const y=al.get(w);if(y){_.preventDefault();const P=new FormData(_.target);y.call(r,P)}}we(["click","submit"]),document.addEventListener("click",u),e&&(document.addEventListener("mouseover",f),document.addEventListener("mouseout",v),document.addEventListener("focusin",d),document.addEventListener("touchstart",d)),document.addEventListener("submit",m),nt(()=>{document.removeEventListener("click",u),e&&(document.removeEventListener("mouseover",f),document.removeEventListener("mouseout",v),document.removeEventListener("focusin",d),document.removeEventListener("touchstart",d)),document.removeEventListener("submit",m)})}}function cl(e){return tl({get:()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),set({value:t,replace:n,scroll:r,state:l}){n?window.history.replaceState(l,"",t):window.history.pushState(l,"",t),rl(window.location.hash.slice(1),r)},init:t=>nl(window,"popstate",()=>t()),create:ul(e.preload,e.explicitLinks,e.actionBase),utils:{go:t=>window.history.go(t)}})(e)}const dl=S("<a>");function Qe(e){e=te({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=Hr(e,["href","state","class","activeClass","inactiveClass","end"]),n=qo(()=>e.href),r=Wo(n),l=Hn(),i=F(()=>{const o=n();if(o===void 0)return!1;const s=lt(o.split(/[?#]/,1)[0]).toLowerCase(),a=lt(l.pathname).toLowerCase();return e.end?s===a:a.startsWith(s)});return(()=>{const o=dl();return Ur(o,te(t,{get href(){return r()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!i(),[e.activeClass]:i(),...t.classList}},link:"",get"aria-current"(){return i()?"page":void 0}}),!1,!1),o})()}function fl(e){const t=At(),n=Hn(),{href:r,state:l}=e,i=typeof r=="function"?r({navigate:t,location:n}):r;return t(i,{replace:!0,state:l}),null}function li(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=li(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ve(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=li(e))&&(r&&(r+=" "),r+=t);return r}const gl="_app_f916b_1",vl="_light_f916b_15",hl="_dark_f916b_21",_l="_content_f916b_27",Nt={app:gl,light:vl,dark:hl,content:_l};var oe=(e=>(e.MainSeqStar="MainSeqStar",e.GiantStar="GiantStar",e.WhiteDwarf="WhiteDwarf",e.NeutronStar="NeutronStar",e.BlackHole="BlackHole",e))(oe||{}),de=(e=>(e.M="M",e.K="K",e.G="G",e.F="F",e.A="A",e.B="B",e.O="O",e.X="X",e))(de||{}),si=(e=>(e.None="None",e.Vocano="Vocano",e.Ocean="Ocean",e.Desert="Desert",e.Ice="Ice",e.Gas="Gas",e))(si||{}),I=(e=>(e.None="None",e.Iron="Iron",e.Copper="Copper",e.Silicium="Silicium",e.Titanium="Titanium",e.Stone="Stone",e.Coal="Coal",e.Oil="Oil",e.Fireice="Fireice",e.Diamond="Diamond",e.Fractal="Fractal",e.Crysrub="Crysrub",e.Grat="Grat",e.Bamboo="Bamboo",e.Mag="Mag",e))(I||{}),D=(e=>(e.None="None",e.And="And",e.Or="Or",e.Birth="Birth",e.StarType="StarType",e.BirthDistance="BirthDistance",e.XDistance="XDistance",e.SpectrDistance="SpectrDistance",e.Luminosity="Luminosity",e.Spectr="Spectr",e.DysonRadius="DysonRadius",e.PlanetCount="PlanetCount",e.SatelliteCount="SatelliteCount",e.TidalLockCount="TidalLockCount",e.PlanetInDysonCount="PlanetInDysonCount",e.ThemeId="ThemeId",e.GasCount="GasCount",e.OceanType="OceanType",e.GasRate="GasRate",e.AverageVeinAmount="AverageVeinAmount",e))(D||{}),Vt=(e=>(e.Composite="Composite",e.CompositeAnd="CompositeAnd",e.CompositeOr="CompositeOr",e))(Vt||{}),Z=(e=>(e.Eq="Eq",e.Neq="Neq",e.Lt="Lt",e.Lte="Lte",e.Gt="Gt",e.Gte="Gte",e))(Z||{}),ce=(e=>(e[e.None=0]="None",e[e.Fireice=1011]="Fireice",e[e.Hydrogen=1120]="Hydrogen",e[e.Deuterium=1121]="Deuterium",e))(ce||{}),Fe=(e=>(e[e.None=0]="None",e[e.Ice=-2]="Ice",e[e.Lava=-1]="Lava",e[e.Water=1e3]="Water",e[e.Sulfur=1116]="Sulfur",e))(Fe||{});function Re(e,t){return e.toLocaleString([],{minimumFractionDigits:0,maximumFractionDigits:t})}function Be(e,t){return e>=1e6?Re(e/1e6,t)+"M":e>=1e4?Re(e/1e3,t)+"K":Re(e,t)}function ml(e,t){return{...e,value:t(e.value)}}function br(e){return e.type===D.AverageVeinAmount&&e.vein===I.Oil?{...e,condition:ml(e.condition,t=>t*25e3)}:e}function ai(e){const t=e.map(n=>n.length===1?br(n[0]):{type:D.Or,rules:n.map(br)});return t.length===1?t[0]:{type:D.And,rules:t}}function $l(e){const t=e.map(n=>{const r=n.map(({condition:l,rules:i})=>({type:Vt.Composite,condition:l,rule:ai(i)}));return r.length===1?r[0]:{type:Vt.CompositeOr,rules:r}});return t.length===1?t[0]:{type:Vt.CompositeAnd,rules:t}}const un=32,cn=64,Un=64,bl=[.1,.5,.8,1,1.5,2,3,5,8,100],Kn=1,Xn={[I.None]:"",[I.Iron]:"Iron Ore",[I.Copper]:"Copper Ore",[I.Silicium]:"Silicon Ore",[I.Titanium]:"Titanium Ore",[I.Stone]:"Stone",[I.Coal]:"Coal",[I.Oil]:"Crude Oil",[I.Fireice]:"Fire Ice",[I.Diamond]:"Kimberlite Ore",[I.Fractal]:"Fractal Silicon",[I.Crysrub]:"Organic Crystal",[I.Grat]:"Grating Crystal",[I.Bamboo]:"Stalagmite Crystal",[I.Mag]:"Unipolar Magnet"},ui={[ce.None]:"",[ce.Fireice]:"Fire Ice",[ce.Hydrogen]:"Hydrogen",[ce.Deuterium]:"Deuterium"},ci=[I.Iron,I.Copper,I.Silicium,I.Titanium,I.Stone,I.Coal,I.Oil,I.Fireice,I.Diamond,I.Fractal,I.Crysrub,I.Grat,I.Bamboo,I.Mag],di=[ce.Fireice,ce.Hydrogen,ce.Deuterium];function fi(e){const t=e.minGroup*e.minPatch*e.minAmount,n=e.maxGroup*e.maxPatch*e.maxAmount,r=(e.minGroup+e.maxGroup)*(e.minPatch+e.maxPatch)*(e.minAmount+e.maxAmount)/8;return{veinType:e.veinType,min:t,max:n,avg:r}}function dn({count:e,multipler:t}){const n=new URLSearchParams;e!==Un&&n.set("count",String(e)),t!==Kn&&n.set("multipler",String(t));const r=n.toString();return r?"?"+r:""}const yl=["I","II","III","IV","V","VI"],gi={1:"Mariterra",2:"Gas Giant",3:"Gas Giant",4:"Ice Giant",5:"Ice Giant",6:"Scorchedia",7:"Geloterra",8:"Tropicana",9:"Lava",10:"Glacieon",11:"Desolus",12:"Gobi",13:"Sulfuria",14:"Crimsonis",15:"Prairiea",16:"Aquatica",17:"Halitum",18:"Sakura Ocean",19:"Cyclonius",20:"Maroonfrost",21:"Gas Giant",22:"Savanna",23:"Onyxtopia",24:"Icefrostia",25:"Pandora Swamp"},vi={[Z.Eq]:"exactly",[Z.Neq]:"not equal to",[Z.Gt]:"greater than",[Z.Gte]:"at least",[Z.Lt]:"less than",[Z.Lte]:"at most"};function Zn(e){if(e.length===0)return!1;for(const t of e){if(t.length===0)return!1;for(const n of t)if(n.type===D.None)return!1}return!0}function wl(e){return e.length>0&&e.every(t=>t.length>0&&t.every(n=>Zn(n.rules)))}function hi(e){if(e.type===oe.GiantStar)switch(e.spectr){case de.M:case de.K:return"Red Giant";case de.G:case de.F:return"Yellow Giant";case de.A:return"White Giant";default:return"Blue Giant"}else return e.type===oe.WhiteDwarf?"White Dwarf":e.type===oe.NeutronStar?"Neutron Star":e.type===oe.BlackHole?"Black Hole":e.spectr+" type Star"}function Cl([e,t,n]){return Math.sqrt(e*e+t*t+n*n)}function _i([e,t,n],[r,l,i]){const o=e-r,s=t-l,a=n-i;return Math.sqrt(o*o+s*s+a*a)}function xl(e,t){return t.map(n=>_i(e,n)).reduce((n,r)=>n<r?n:r,1/0)}function Sl(e,t){return t.map(n=>_i(e,n)).reduce((n,r)=>n>r?n:r,-1/0)}const Pl={settings:{darkMode:window.matchMedia("(prefers-color-scheme: dark)").matches,view:{starCount:Un,resourceMultipler:Kn}},searching:!1},mi=Fn(void 0);function fn(){return nn(mi)}const kl="_header_p3aow_1",Al="_title_p3aow_14",Dl="_buttons_p3aow_20",El="_button_p3aow_20",Ll="_buttonsDisabled_p3aow_30",Ol="_icons_p3aow_38",Rl="_icon_p3aow_38",Le={header:kl,title:Al,buttons:Dl,button:El,buttonsDisabled:Ll,icons:Ol,icon:Rl},Ml=S("<svg stroke-width=0>");function rt(e,t){const n=te(e.a,t),[r,l]=Hr(n,["src"]),[i,o]=G(""),s=F(()=>t.title?`${e.c}<title>${t.title}</title>`:e.c);return me(()=>o(s())),nt(()=>{o("")}),(()=>{const a=Ml();return Ur(a,te({get stroke(){var u;return(u=e.a)==null?void 0:u.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},l,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return i()}}),!0,!0),h(a,()=>Kr),a})()}function Nl(e){return rt({a:{viewBox:"0 0 512 512"},c:'<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M328 112 184 256 328 400"/>'},e)}function Tl(e){return rt({a:{viewBox:"0 0 512 512"},c:'<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M112 184 256 328 400 184"/>'},e)}function Il(e){return rt({a:{viewBox:"0 0 512 512"},c:'<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M184 112 328 256 184 400"/>'},e)}function Bl(e){return rt({a:{viewBox:"0 0 512 512"},c:'<path d="m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34Z"/>'},e)}function Gl(e){return rt({a:{viewBox:"0 0 512 512"},c:'<path d="M256 32A224 224 0 0 0 97.61 414.39 224 224 0 1 0 414.39 97.61 222.53 222.53 0 0 0 256 32ZM64 256c0-105.87 86.13-192 192-192v384c-105.87 0-192-86.13-192-192Z"/>'},e)}function Vl(e){return rt({a:{viewBox:"0 0 512 512"},c:'<path d="M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9a17.56 17.56 0 0 0 3.8.4c8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1a102.4 102.4 0 0 1-22.6 2.7c-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1a63 63 0 0 0 25.6-6c2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8a18.64 18.64 0 0 1 5-.5c8.1 0 26.4 3.1 56.6 24.1a208.21 208.21 0 0 1 112.2 0c30.2-21 48.5-24.1 56.6-24.1a18.64 18.64 0 0 1 5 .5c12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5a19.35 19.35 0 0 0 4-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32Z"/>'},e)}function jl(e){return rt({a:{viewBox:"0 0 512 512"},c:'<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M384 224v184a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V168a40 40 0 0 1 40-40h167.48"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M336 64 448 64 448 176"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M224 288 440 72"/>'},e)}function $i(e){return rt({a:{viewBox:"0 0 512 512"},c:'<path fill="none" stroke="currentColor" d="M296 64h-80a7.91 7.91 0 0 0-8 8v24h96V72a7.91 7.91 0 0 0-8-8Z"/><path d="M432 96h-96V72a40 40 0 0 0-40-40h-80a40 40 0 0 0-40 40v24H80a16 16 0 0 0 0 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 0 0 0-32ZM192.57 416H192a16 16 0 0 1-16-15.43l-8-224a16 16 0 1 1 32-1.14l8 224A16 16 0 0 1 192.57 416ZM272 400a16 16 0 0 1-32 0V176a16 16 0 0 1 32 0Zm32-304h-96V72a7.91 7.91 0 0 1 8-8h80a7.91 7.91 0 0 1 8 8Zm32 304.57A16 16 0 0 1 320 416h-.58A16 16 0 0 1 304 399.43l8-224a16 16 0 1 1 32 1.14Z"/>'},e)}const Fl=S("<div><div>DSP Seed Finder</div><div></div><div><a href=https://github.com/DoubleUTH/DSP-Seed-Finder target=_blank></a><div>"),ql=()=>{const[e,t]=fn();return(()=>{const n=Fl(),r=n.firstChild,l=r.nextSibling,i=l.nextSibling,o=i.firstChild,s=o.nextSibling;return h(l,c(Qe,{href:"/find-star",get class(){return Le.button},children:"Star Finder"}),null),h(l,c(Qe,{href:"/find-galaxy",get class(){return Le.button},children:"Galaxy Finder"}),null),h(l,c(Qe,{href:"/galaxy",get class(){return Le.button},children:"Galaxy Viewer"}),null),o.$$click=()=>t("settings","darkMode",a=>!a),h(o,c(Vl,{})),s.$$click=()=>t("settings","darkMode",a=>!a),h(s,c(Gl,{})),$(a=>{const u=Le.header,d=Le.title,f=ve(Le.buttons,e.searching&&Le.buttonsDisabled),v=Le.icons,m=Le.icon,_=Le.icon;return u!==a._v$&&g(n,a._v$=u),d!==a._v$2&&g(r,a._v$2=d),f!==a._v$3&&g(l,a._v$3=f),v!==a._v$4&&g(i,a._v$4=v),m!==a._v$5&&g(o,a._v$5=m),_!==a._v$6&&g(s,a._v$6=_),a},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),n})()};we(["click"]);const Wl=S("<div><div>"),Hl=e=>{const[t,n]=Dt(Pl);return me(()=>{if(t.searching){const r=l=>{l.preventDefault()};window.addEventListener("beforeunload",r),nt(()=>window.removeEventListener("beforeunload",r))}}),c(mi.Provider,{value:[t,n],get children(){const r=Wl(),l=r.firstChild;return h(r,c(ql,{}),l),h(l,()=>e.children),$(i=>{const o=ve(Nt.app,t.settings.darkMode?Nt.dark:Nt.light),s=Nt.content;return o!==i._v$&&g(r,i._v$=o),s!==i._v$2&&g(l,i._v$2=s),i},{_v$:void 0,_v$2:void 0}),r}})},zl="_button_1slwu_1",Ul="_solid_1slwu_13",Kl="_outline_1slwu_24",Xl="_error_1slwu_33",Tt={button:zl,solid:Ul,outline:Kl,error:Xl},Zl=S("<button>"),z=e=>(()=>{const t=Zl();return t.$$click=n=>{var r;return(r=e.onClick)==null?void 0:r.call(e,n)},h(t,()=>e.children),$(n=>{const r=e.type||"button",l=ve(Tt.button,e.class,e.kind==="outline"?Tt.outline:Tt.solid,Tt[e.theme||"default"]),i=e.disabled;return r!==n._v$&&je(t,"type",n._v$=r),l!==n._v$2&&g(t,n._v$2=l),i!==n._v$3&&(t.disabled=n._v$3=i),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})();we(["click"]);function yr(e){return new Worker("/DSP-Seed-Finder/assets/worldgen.worker-uUOdEwSk.js",{type:"module",name:e==null?void 0:e.name})}const wr="generate",Cr="find",Jl="next";class Yl{constructor(){this._stop=()=>{}}async generate(t){const n=new yr;try{return await new Promise(l=>{const i=o=>{const s=o.data;s.type===wr&&(n.removeEventListener("message",i),l(s.data))};n.addEventListener("message",i),n.postMessage({type:wr,input:t})})}finally{n.terminate()}}find({gameDesc:t,range:n,rule:r,concurrency:l,autosave:i,onResult:o,onProgress:s,onComplete:a}){let u=n[0];const d=n[1];let f=!1;this._stop=()=>{f=!0};const v=Math.min(l,d-u);let m=u;const _=new Set;let w=v,y=Date.now();function P(b){const A=L=>{const R=L.data;if(R.type===Cr){const q=R.data,K=q.seed;if(q.indexes.length>0&&(o==null||o(q)),m===K)for(++m;_.delete(m);)++m;else _.add(K);const M=Date.now();M-y>=i*1e3&&(y=M,s==null||s(m)),!f&&u<d?b.postMessage({type:Jl,input:u++}):(b.terminate(),--w===0&&(s==null||s(m),a==null||a()))}};b.addEventListener("message",A),b.postMessage({type:Cr,input:{game:{...t,seed:u++},rule:r}})}for(let b=0;b<v;++b)P(new yr)}stop(){this._stop(),this._stop=()=>{}}}function Ql(e){return new Promise((t,n)=>{if(e.addEventListener("error",n),e.readyState===WebSocket.CONNECTING){const r=()=>{t(),e.removeEventListener("open",r)};e.addEventListener("open",r)}})}async function xr(){const e=new WebSocket("ws://127.0.0.1:62879");return console.debug("connecting"),await Ql(e),console.debug("connected"),e}class pl{constructor(){this._stop=()=>{}}async generate(t){const n=await xr(),r=new Promise(l=>{n.addEventListener("message",i=>{l(JSON.parse(i.data)),n.close()})});return n.send(JSON.stringify({type:"Generate",game:t})),r}find({gameDesc:t,range:n,rule:r,concurrency:l,autosave:i,onError:o,onResult:s,onProgress:a,onComplete:u,onInterrupt:d}){xr().then(f=>{let v=!1;this._stop=()=>{f.readyState===WebSocket.OPEN&&f.send(JSON.stringify({type:"Stop"}))},f.addEventListener("close",()=>{v||d==null||d()}),f.addEventListener("message",m=>{const _=JSON.parse(m.data);_.type==="Result"?s==null||s({seed:_.seed,indexes:_.indexes}):(a==null||a(_.end),_.type==="Done"&&(v=!0,u==null||u(),f.close()))}),f.send(JSON.stringify({type:"Find",game:t,range:n,rule:r,concurrency:l,autosave:i}))}).catch(f=>o==null?void 0:o(f))}stop(){this._stop(),this._stop=()=>{}}}const es=new Yl,ts=new pl;function mt(e){return e?ts:es}let ns=e=>crypto.getRandomValues(new Uint8Array(e)),rs=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,l=-~(1.6*r*t/e.length);return(i=t)=>{let o="";for(;;){let s=n(l),a=l;for(;a--;)if(o+=e[s[a]&r]||"",o.length===i)return o}}},is=(e,t=21)=>rs(e,t,ns);const st=new Map,os=is("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",6),ls="p_",se="info",ss="info_multi",ge="progress",qe="stars",We="galaxies";function bi(){return ls+Date.now()+os()}async function gn(e,t){const n=st.get(e);if(n)return n;const r=indexedDB.open(e,1),l=new Promise((i,o)=>{r.onblocked=s=>console.error(s),r.onupgradeneeded=s=>{const a=s.target.result;t(a)},r.onsuccess=()=>{const s=r.result;s.onclose=()=>{st.delete(e)},i(s)},r.onerror=o});return st.set(e,l),l}function yi(e){e.createObjectStore(se,{keyPath:"id"})}function as(e){e.createObjectStore(ge,{keyPath:"id"}),e.createObjectStore(qe,{keyPath:"id"})}function us(e){e.createObjectStore(ge,{keyPath:"id"}),e.createObjectStore(We,{keyPath:"seed"})}function vn(){return gn(se,yi)}function hn(){return gn(ss,yi)}function Et(e){return gn(e,as)}function Lt(e){return gn(e,us)}async function cs(){const t=(await vn()).transaction([se],"readonly"),r=t.objectStore(se).getAll();return new Promise((l,i)=>{t.onerror=i,r.onerror=i,r.onsuccess=()=>{const o=[...r.result];o.reverse(),l(o)}})}async function ds(e){const n=(await vn()).transaction([se],"readonly"),l=n.objectStore(se).get(e);return new Promise((i,o)=>{n.onerror=o,l.onerror=o,l.onsuccess=()=>{i(l.result||null)}})}async function Sr(e){const n=(await vn()).transaction([se],"readwrite");n.objectStore(se).put(e),await new Promise((l,i)=>{n.onerror=i,n.oncomplete=l})}async function Pr(e){const n=(await Et(e)).transaction([ge],"readonly"),l=n.objectStore(ge).get(e);return new Promise((i,o)=>{n.onerror=o,l.onerror=o,l.onsuccess=()=>{i(l.result||null)}})}async function Cn(e,t=[]){const r=(await Et(e.id)).transaction(t.length>0?[ge,qe]:[ge],"readwrite");await new Promise((l,i)=>{r.oncomplete=l,r.onerror=i;const o=r.objectStore(ge),s=o.get(e.id);if(s.onsuccess=()=>{(!s.result||s.result.current<=e.current)&&o.put(e)},t.length>0){const a=r.objectStore(qe);t.forEach(u=>{u.indexes.forEach(d=>{a.put({id:u.seed*100+d,seed:u.seed,index:d})})})}})}async function fs(e){const n=(await Et(e)).transaction([ge,qe],"readwrite"),r=n.objectStore(ge),l=r.get(e);l.onsuccess=()=>{l.result&&r.put({...l.result,current:l.result.start,found:0})},n.objectStore(qe).clear(),await new Promise((o,s)=>{n.oncomplete=o,n.onerror=s})}async function gs(e){const t=st.get(e);t&&((await t).close(),st.delete(e));const n=indexedDB.deleteDatabase(e),l=(await vn()).transaction([se],"readwrite");l.objectStore(se).delete(e),await new Promise((o,s)=>{let a=2;l.onerror=s,l.oncomplete=()=>{--a||o()},n.onerror=s,n.onsuccess=()=>{--a||o()}})}async function vs(e,t,n){const l=(await Et(e)).transaction([qe],"readonly"),o=l.objectStore(qe).openCursor();let s=!1;const a=[];return o.onsuccess=()=>{var d;const u=o.result;if(u){if(t>0&&!s){s=!0,(d=o.result)==null||d.advance(t);return}a.push(u.value),a.length<n&&u.continue()}},new Promise((u,d)=>{l.onerror=d,l.oncomplete=()=>{u(a)},o.onerror=d})}async function hs(e,t,n){const l=(await Et(e)).transaction([qe],"readonly"),o=l.objectStore(qe).getAll(IDBKeyRange.bound(t*100,n*100+99));return new Promise((s,a)=>{l.onerror=a,o.onerror=a,o.onsuccess=()=>{s(o.result)}})}async function _s(){const t=(await hn()).transaction([se],"readonly"),r=t.objectStore(se).getAll();return new Promise((l,i)=>{t.onerror=i,r.onerror=i,r.onsuccess=()=>{const o=[...r.result];o.reverse(),l(o)}})}async function ms(e){const n=(await hn()).transaction([se],"readonly"),l=n.objectStore(se).get(e);return new Promise((i,o)=>{n.onerror=o,l.onerror=o,l.onsuccess=()=>{i(l.result||null)}})}async function kr(e){const n=(await hn()).transaction([se],"readwrite");n.objectStore(se).put(e),await new Promise((l,i)=>{n.onerror=i,n.oncomplete=l})}async function Ar(e){const n=(await Lt(e)).transaction([ge],"readonly"),l=n.objectStore(ge).get(e);return new Promise((i,o)=>{n.onerror=o,l.onerror=o,l.onsuccess=()=>{i(l.result||null)}})}async function xn(e,t=[]){const r=(await Lt(e.id)).transaction(t.length>0?[ge,We]:[ge],"readwrite");await new Promise((l,i)=>{r.oncomplete=l,r.onerror=i;const o=r.objectStore(ge),s=o.get(e.id);if(s.onsuccess=()=>{(!s.result||s.result.current<=e.current)&&o.put(e)},t.length>0){const a=r.objectStore(We);t.forEach(u=>{a.put({seed:u.seed})})}})}async function $s(e){const n=(await Lt(e)).transaction([ge,We],"readwrite"),r=n.objectStore(ge),l=r.get(e);l.onsuccess=()=>{l.result&&r.put({...l.result,current:l.result.start,found:0})},n.objectStore(We).clear(),await new Promise((o,s)=>{n.oncomplete=o,n.onerror=s})}async function bs(e){const t=st.get(e);t&&((await t).close(),st.delete(e));const n=indexedDB.deleteDatabase(e),l=(await hn()).transaction([se],"readwrite");l.objectStore(se).delete(e),await new Promise((o,s)=>{let a=2;l.onerror=s,l.oncomplete=()=>{--a||o()},n.onerror=s,n.onsuccess=()=>{--a||o()}})}async function ys(e,t,n){const l=(await Lt(e)).transaction([We],"readonly"),o=l.objectStore(We).openCursor();let s=!1;const a=[];return o.onsuccess=()=>{var d;const u=o.result;if(u){if(t>0&&!s){s=!0,(d=o.result)==null||d.advance(t);return}a.push(u.value),a.length<n&&u.continue()}},new Promise((u,d)=>{l.onerror=d,l.oncomplete=()=>{u(a)},o.onerror=d})}async function ws(e,t,n){const l=(await Lt(e)).transaction([We],"readonly"),o=l.objectStore(We).getAll(IDBKeyRange.bound(t,n));return new Promise((s,a)=>{l.onerror=a,o.onerror=a,o.onsuccess=()=>{s(o.result)}})}const Cs="_ruleBuilder_cg084_1",xs="_block_cg084_8",Ss="_birth_cg084_14",Ps="_row_cg084_18",ks="_editRow_cg084_22",As="_or_cg084_35",Ds="_and_cg084_39",Es="_addOr_cg084_43",Ls="_addAnd_cg084_47",Os="_selectRule_cg084_52",Rs="_selectVein_cg084_56",Ms="_inputVein_cg084_60",Ns="_inputCount_cg084_64",Ts="_inputLuminosity_cg084_68",Is="_inputGasRate_cg084_72",Bs="_inputDyson_cg084_76",Gs="_inputDistance_cg084_80",Vs="_selectSpectr_cg084_84",js="_selectStarType_cg084_88",Fs="_selectGas_cg084_92",qs="_selectGasType_cg084_96",Ws="_selectOcean_cg084_100",Hs="_selectPlanetType_cg084_104",zs="_selectConditionType_cg084_108",j={ruleBuilder:Cs,block:xs,birth:Ss,row:Ps,editRow:ks,delete:"_delete_cg084_27",or:As,and:Ds,addOr:Es,addAnd:Ls,selectRule:Os,selectVein:Rs,inputVein:Ms,inputCount:Ns,inputLuminosity:Ts,inputGasRate:Is,inputDyson:Bs,inputDistance:Gs,selectSpectr:Vs,selectStarType:js,selectGas:Fs,selectGasType:qs,selectOcean:Ws,selectPlanetType:Hs,selectConditionType:zs},Us="_select_1qy36_1",Ks="_content_1qy36_7",Xs="_focus_1qy36_15",Zs="_dropdown_1qy36_19",Js="_item_1qy36_30",Ys="_selected_1qy36_40",Qs="_error_1qy36_46",ps="_disabled_1qy36_50",Je={select:Us,content:Ks,focus:Xs,dropdown:Zs,item:Js,selected:Ys,error:Qs,disabled:ps},Nn=Math.min,gt=Math.max,Qt=Math.round,et=e=>({x:e,y:e}),ea={left:"right",right:"left",bottom:"top",top:"bottom"},ta={start:"end",end:"start"};function Dr(e,t,n){return gt(e,Nn(t,n))}function Jn(e,t){return typeof e=="function"?e(t):e}function $t(e){return e.split("-")[0]}function Yn(e){return e.split("-")[1]}function wi(e){return e==="x"?"y":"x"}function Ci(e){return e==="y"?"height":"width"}function Qn(e){return["top","bottom"].includes($t(e))?"y":"x"}function xi(e){return wi(Qn(e))}function na(e,t,n){n===void 0&&(n=!1);const r=Yn(e),l=xi(e),i=Ci(l);let o=l==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=pt(o)),[o,pt(o)]}function ra(e){const t=pt(e);return[Tn(e),t,Tn(t)]}function Tn(e){return e.replace(/start|end/g,t=>ta[t])}function ia(e,t,n){const r=["left","right"],l=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?l:r:t?r:l;case"left":case"right":return t?i:o;default:return[]}}function oa(e,t,n,r){const l=Yn(e);let i=ia($t(e),n==="start",r);return l&&(i=i.map(o=>o+"-"+l),t&&(i=i.concat(i.map(Tn)))),i}function pt(e){return e.replace(/left|right|bottom|top/g,t=>ea[t])}function la(e){return{top:0,right:0,bottom:0,left:0,...e}}function sa(e){return typeof e!="number"?la(e):{top:e,right:e,bottom:e,left:e}}function en(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Er(e,t,n){let{reference:r,floating:l}=e;const i=Qn(t),o=xi(t),s=Ci(o),a=$t(t),u=i==="y",d=r.x+r.width/2-l.width/2,f=r.y+r.height/2-l.height/2,v=r[s]/2-l[s]/2;let m;switch(a){case"top":m={x:d,y:r.y-l.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-l.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Yn(t)){case"start":m[o]-=v*(n&&u?-1:1);break;case"end":m[o]+=v*(n&&u?-1:1);break}return m}const aa=async(e,t,n)=>{const{placement:r="bottom",strategy:l="absolute",middleware:i=[],platform:o}=n,s=i.filter(Boolean),a=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:l}),{x:d,y:f}=Er(u,r,a),v=r,m={},_=0;for(let w=0;w<s.length;w++){const{name:y,fn:P}=s[w],{x:b,y:A,data:L,reset:R}=await P({x:d,y:f,initialPlacement:r,placement:v,strategy:l,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});if(d=b??d,f=A??f,m={...m,[y]:{...m[y],...L}},R&&_<=50){_++,typeof R=="object"&&(R.placement&&(v=R.placement),R.rects&&(u=R.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:l}):R.rects),{x:d,y:f}=Er(u,v,a)),w=-1;continue}}return{x:d,y:f,placement:v,strategy:l,middlewareData:m}};async function Si(e,t){var n;t===void 0&&(t={});const{x:r,y:l,platform:i,rects:o,elements:s,strategy:a}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:v=!1,padding:m=0}=Jn(t,e),_=sa(m),y=s[v?f==="floating"?"reference":"floating":f],P=en(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:a})),b=f==="floating"?{...o.floating,x:r,y:l}:o.reference,A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),L=await(i.isElement==null?void 0:i.isElement(A))?await(i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},R=en(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:A,strategy:a}):b);return{top:(P.top-R.top+_.top)/L.y,bottom:(R.bottom-P.bottom+_.bottom)/L.y,left:(P.left-R.left+_.left)/L.x,right:(R.right-P.right+_.right)/L.x}}const Pi=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:l,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:v,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:w=!0,...y}=Jn(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const P=$t(l),b=$t(s)===s,A=await(a.isRTL==null?void 0:a.isRTL(u.floating)),L=v||(b||!w?[pt(s)]:ra(s));!v&&_!=="none"&&L.push(...oa(s,w,_,A));const R=[s,...L],q=await Si(t,y),K=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&K.push(q[P]),f){const Y=na(l,o,A);K.push(q[Y[0]],q[Y[1]])}if(M=[...M,{placement:l,overflows:K}],!K.every(Y=>Y<=0)){var E,O;const Y=(((E=i.flip)==null?void 0:E.index)||0)+1,ae=R[Y];if(ae)return{data:{index:Y,overflows:M},reset:{placement:ae}};let Q=(O=M.filter(k=>k.overflows[0]<=0).sort((k,re)=>k.overflows[1]-re.overflows[1])[0])==null?void 0:O.placement;if(!Q)switch(m){case"bestFit":{var W;const k=(W=M.map(re=>[re.placement,re.overflows.filter(he=>he>0).reduce((he,Ee)=>he+Ee,0)]).sort((re,he)=>re[1]-he[1])[0])==null?void 0:W[0];k&&(Q=k);break}case"initialPlacement":Q=s;break}if(l!==Q)return{reset:{placement:Q}}}return{}}}},ua=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:l}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:s={fn:y=>{let{x:P,y:b}=y;return{x:P,y:b}}},...a}=Jn(e,t),u={x:n,y:r},d=await Si(t,a),f=Qn($t(l)),v=wi(f);let m=u[v],_=u[f];if(i){const y=v==="y"?"top":"left",P=v==="y"?"bottom":"right",b=m+d[y],A=m-d[P];m=Dr(b,m,A)}if(o){const y=f==="y"?"top":"left",P=f==="y"?"bottom":"right",b=_+d[y],A=_-d[P];_=Dr(b,_,A)}const w=s.fn({...t,[v]:m,[f]:_});return{...w,data:{x:w.x-n,y:w.y-r}}}}};function tt(e){return ki(e)?(e.nodeName||"").toLowerCase():"#document"}function Ce(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function it(e){var t;return(t=(ki(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ki(e){return e instanceof Node||e instanceof Ce(e).Node}function He(e){return e instanceof Element||e instanceof Ce(e).Element}function Ne(e){return e instanceof HTMLElement||e instanceof Ce(e).HTMLElement}function Lr(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ce(e).ShadowRoot}function Ot(e){const{overflow:t,overflowX:n,overflowY:r,display:l}=ke(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(l)}function ca(e){return["table","td","th"].includes(tt(e))}function pn(e){const t=er(),n=ke(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function da(e){let t=bt(e);for(;Ne(t)&&!_n(t);){if(pn(t))return t;t=bt(t)}return null}function er(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _n(e){return["html","body","#document"].includes(tt(e))}function ke(e){return Ce(e).getComputedStyle(e)}function mn(e){return He(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function bt(e){if(tt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Lr(e)&&e.host||it(e);return Lr(t)?t.host:t}function Ai(e){const t=bt(e);return _n(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ne(t)&&Ot(t)?t:Ai(t)}function In(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const l=Ai(e),i=l===((r=e.ownerDocument)==null?void 0:r.body),o=Ce(l);return i?t.concat(o,o.visualViewport||[],Ot(l)?l:[],o.frameElement&&n?In(o.frameElement):[]):t.concat(l,In(l,[],n))}function Di(e){const t=ke(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const l=Ne(e),i=l?e.offsetWidth:n,o=l?e.offsetHeight:r,s=Qt(n)!==i||Qt(r)!==o;return s&&(n=i,r=o),{width:n,height:r,$:s}}function Ei(e){return He(e)?e:e.contextElement}function vt(e){const t=Ei(e);if(!Ne(t))return et(1);const n=t.getBoundingClientRect(),{width:r,height:l,$:i}=Di(t);let o=(i?Qt(n.width):n.width)/r,s=(i?Qt(n.height):n.height)/l;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const fa=et(0);function Li(e){const t=Ce(e);return!er()||!t.visualViewport?fa:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ga(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ce(e)?!1:t}function kt(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const l=e.getBoundingClientRect(),i=Ei(e);let o=et(1);t&&(r?He(r)&&(o=vt(r)):o=vt(e));const s=ga(i,n,r)?Li(i):et(0);let a=(l.left+s.x)/o.x,u=(l.top+s.y)/o.y,d=l.width/o.x,f=l.height/o.y;if(i){const v=Ce(i),m=r&&He(r)?Ce(r):r;let _=v.frameElement;for(;_&&r&&m!==v;){const w=vt(_),y=_.getBoundingClientRect(),P=ke(_),b=y.left+(_.clientLeft+parseFloat(P.paddingLeft))*w.x,A=y.top+(_.clientTop+parseFloat(P.paddingTop))*w.y;a*=w.x,u*=w.y,d*=w.x,f*=w.y,a+=b,u+=A,_=Ce(_).frameElement}}return en({width:d,height:f,x:a,y:u})}function va(e){let{rect:t,offsetParent:n,strategy:r}=e;const l=Ne(n),i=it(n);if(n===i)return t;let o={scrollLeft:0,scrollTop:0},s=et(1);const a=et(0);if((l||!l&&r!=="fixed")&&((tt(n)!=="body"||Ot(i))&&(o=mn(n)),Ne(n))){const u=kt(n);s=vt(n),a.x=u.x+n.clientLeft,a.y=u.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-o.scrollLeft*s.x+a.x,y:t.y*s.y-o.scrollTop*s.y+a.y}}function ha(e){return Array.from(e.getClientRects())}function Oi(e){return kt(it(e)).left+mn(e).scrollLeft}function _a(e){const t=it(e),n=mn(e),r=e.ownerDocument.body,l=gt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=gt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Oi(e);const s=-n.scrollTop;return ke(r).direction==="rtl"&&(o+=gt(t.clientWidth,r.clientWidth)-l),{width:l,height:i,x:o,y:s}}function ma(e,t){const n=Ce(e),r=it(e),l=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,s=0,a=0;if(l){i=l.width,o=l.height;const u=er();(!u||u&&t==="fixed")&&(s=l.offsetLeft,a=l.offsetTop)}return{width:i,height:o,x:s,y:a}}function $a(e,t){const n=kt(e,!0,t==="fixed"),r=n.top+e.clientTop,l=n.left+e.clientLeft,i=Ne(e)?vt(e):et(1),o=e.clientWidth*i.x,s=e.clientHeight*i.y,a=l*i.x,u=r*i.y;return{width:o,height:s,x:a,y:u}}function Or(e,t,n){let r;if(t==="viewport")r=ma(e,n);else if(t==="document")r=_a(it(e));else if(He(t))r=$a(t,n);else{const l=Li(e);r={...t,x:t.x-l.x,y:t.y-l.y}}return en(r)}function Ri(e,t){const n=bt(e);return n===t||!He(n)||_n(n)?!1:ke(n).position==="fixed"||Ri(n,t)}function ba(e,t){const n=t.get(e);if(n)return n;let r=In(e,[],!1).filter(s=>He(s)&&tt(s)!=="body"),l=null;const i=ke(e).position==="fixed";let o=i?bt(e):e;for(;He(o)&&!_n(o);){const s=ke(o),a=pn(o);!a&&s.position==="fixed"&&(l=null),(i?!a&&!l:!a&&s.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||Ot(o)&&!a&&Ri(e,o))?r=r.filter(d=>d!==o):l=s,o=bt(o)}return t.set(e,r),r}function ya(e){let{element:t,boundary:n,rootBoundary:r,strategy:l}=e;const o=[...n==="clippingAncestors"?ba(t,this._c):[].concat(n),r],s=o[0],a=o.reduce((u,d)=>{const f=Or(t,d,l);return u.top=gt(f.top,u.top),u.right=Nn(f.right,u.right),u.bottom=Nn(f.bottom,u.bottom),u.left=gt(f.left,u.left),u},Or(t,s,l));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function wa(e){return Di(e)}function Ca(e,t,n){const r=Ne(t),l=it(t),i=n==="fixed",o=kt(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const a=et(0);if(r||!r&&!i)if((tt(t)!=="body"||Ot(l))&&(s=mn(t)),r){const u=kt(t,!0,i,t);a.x=u.x+t.clientLeft,a.y=u.y+t.clientTop}else l&&(a.x=Oi(l));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function Rr(e,t){return!Ne(e)||ke(e).position==="fixed"?null:t?t(e):e.offsetParent}function Mi(e,t){const n=Ce(e);if(!Ne(e))return n;let r=Rr(e,t);for(;r&&ca(r)&&ke(r).position==="static";)r=Rr(r,t);return r&&(tt(r)==="html"||tt(r)==="body"&&ke(r).position==="static"&&!pn(r))?n:r||da(e)||n}const xa=async function(e){let{reference:t,floating:n,strategy:r}=e;const l=this.getOffsetParent||Mi,i=this.getDimensions;return{reference:Ca(t,await l(n),r),floating:{x:0,y:0,...await i(n)}}};function Sa(e){return ke(e).direction==="rtl"}const Pa={convertOffsetParentRelativeRectToViewportRelativeRect:va,getDocumentElement:it,getClippingRect:ya,getOffsetParent:Mi,getElementRects:xa,getClientRects:ha,getDimensions:wa,getScale:vt,isElement:He,isRTL:Sa},Ni=(e,t,n)=>{const r=new Map,l={platform:Pa,...n},i={...l.platform,_c:r};return aa(e,t,{...l,platform:i})},ka=S("<div><div></div><div>"),Aa=S("<div>");function $e(e){let t,n;const[r,l]=G(!1);function i(s){var a;return((a=e.isSelected)==null?void 0:a.call(e,s))||e.value===s}me(()=>{const s=a=>{t.contains(a.target)||l(!1)};document.body.addEventListener("click",s),nt(()=>document.body.removeEventListener("click",s))}),me(()=>{r()?(n.style.display="",n.style.width=t.clientWidth+"px",Ni(t,n,{strategy:"fixed",placement:"bottom",middleware:[Pi({fallbackPlacements:["top"]})]}).then(({x:s,y:a})=>{n.style.left=s+"px",n.style.top=a+"px";const u=e.options.findIndex(i);u>-1&&n.children[u].scrollIntoView({behavior:"instant",block:"center",inline:"start"})})):n.style.display="none"});function o(){e.disabled||l(!0)}return(()=>{const s=ka(),a=s.firstChild,u=a.nextSibling,d=t;typeof d=="function"?Xt(d,s):t=s,a.$$click=o,h(a,(()=>{const v=F(()=>e.value!==void 0);return()=>v()?e.getLabel(e.value):e.placeholder})());const f=n;return typeof f=="function"?Xt(f,u):n=u,h(u,c(Ve,{get each(){return e.options},children:v=>(()=>{const m=Aa();return m.$$click=()=>{var _;l(!1),(_=e.onChange)==null||_.call(e,v)},h(m,()=>e.getLabel(v)),$(()=>g(m,ve(Je.item,i(v)&&Je.selected))),m})()})),$(v=>{const m=ve(Je.select,e.class,r()&&Je.focus,e.error&&Je.error,e.disabled&&Je.disabled),_=Je.content,w=Je.dropdown;return m!==v._v$&&g(s,v._v$=m),_!==v._v$2&&g(a,v._v$2=_),w!==v._v$3&&g(u,v._v$3=w),v},{_v$:void 0,_v$2:void 0,_v$3:void 0}),s})()}we(["click"]);const Da="_input_3nnzf_1",Ea="_error_3nnzf_13",La="_disabled_3nnzf_18",ht={input:Da,error:Ea,disabled:La},Oa=S("<input pattern=\\d+>"),Pe=e=>{const t=()=>e.value===e.emptyValue?"":String(e.value),[n,r]=G(t());function l(i){ne(()=>{var o,s,a;if(r(i),i){const u=Number(i);Number.isNaN(u)?(s=e.onChange)==null||s.call(e,e.emptyValue):(o=e.onChange)==null||o.call(e,Number(u))}else(a=e.onChange)==null||a.call(e,e.emptyValue)})}return $(()=>{const i=n();if(i===""&&e.value!==e.emptyValue)r(t());else{const o=Number(i);!Number.isNaN(o)&&e.value!==o&&r(t())}}),(()=>{const i=Oa();return i.$$input=o=>l(o.currentTarget.value),i.addEventListener("blur",()=>{var o;return(o=e.onBlur)==null?void 0:o.call(e)}),$(o=>{const s=ve(ht.input,e.class,e.error&&ht.error,e.disabled&&ht.disabled),a=e.maxLength,u=e.disabled;return s!==o._v$&&g(i,o._v$=s),a!==o._v$2&&je(i,"maxlength",o._v$2=a),u!==o._v$3&&(i.disabled=o._v$3=u),o},{_v$:void 0,_v$2:void 0,_v$3:void 0}),$(()=>i.value=n()),i})()};we(["input"]);const Ra=S("<div>Is the starting system"),at=S("<div>"),Ma=S("<div>OR"),Na=S("<div>AND"),Ti=e=>c($e,{get class(){return j.selectRule},get value(){var t;return((t=e.value)==null?void 0:t.type)===D.None?void 0:e.value},get onChange(){return e.onChange},isSelected:t=>{var n;return t.type===((n=e.value)==null?void 0:n.type)},options:eu,placeholder:"Select...",getLabel:t=>pa[t.type],get error(){var t;return!e.value||((t=e.value)==null?void 0:t.type)===D.None},get disabled(){return e.disabled}}),xe=e=>c($e,{get class(){return j.selectConditionType},get value(){return e.value.type},onChange:t=>e.onChange({...e.value,type:t}),get options(){return[Z.Gte,Z.Lte,Z.Eq]},getLabel:t=>vi[t],get disabled(){return e.disabled}}),Se=e=>c(Pe,{get class(){return e.class},get value(){return e.value.value},onChange:t=>e.onChange({...e.value,value:t}),get emptyValue(){return e.emptyValue},get disabled(){return e.disabled},get maxLength(){return e.maxLength},get error(){return e.error}}),Ta=e=>{const t=()=>e.value.condition,n=r=>e.onChange({...e.value,condition:r});return["Is"," ",c(xe,{get value(){return t()},onChange:n,get disabled(){return e.disabled}})," ",c(Se,{get class(){return j.inputLuminosity},get value(){return t()},onChange:n,emptyValue:-1,get error(){return t().value<=0||t().value>=3},get disabled(){return e.disabled}}),"L"]},Mr=e=>{const t=()=>e.value.condition,n=r=>e.onChange({...e.value,condition:r});return["Is"," ",c(xe,{get value(){return t()},onChange:n,get disabled(){return e.disabled}})," ",c(Se,{get class(){return j.inputDyson},maxLength:6,get value(){return t()},onChange:n,emptyValue:-1,get error(){return t().value<=0},get disabled(){return e.disabled}}),"m"]},Ia=e=>{const t=()=>e.value.condition,n=r=>e.onChange({...e.value,condition:r});return["Has"," ",c($e,{get class(){return j.selectVein},get value(){return e.value.vein},onChange:r=>e.onChange({...e.value,vein:r}),options:tu,getLabel:r=>Xn[r],get disabled(){return e.disabled}})," ","and the estimated amount is"," ",c(xe,{get value(){return t()},onChange:n,get disabled(){return e.disabled}})," ",c(Se,{get class(){return j.inputVein},get value(){return t()},onChange:n,emptyValue:-1,get error(){return t().value<=0},get disabled(){return e.disabled}}),F(()=>e.value.vein===I.Oil?" /s":" ")]},Ba=e=>["Is a"," ",c($e,{get class(){return j.selectSpectr},get value(){return e.value.spectr[0]},onChange:t=>e.onChange({...e.value,spectr:[t]}),options:Vi,getLabel:t=>t,get disabled(){return e.disabled}})," ","type star"],Ga=e=>{const t=()=>e.value.condition,n=r=>e.onChange({...e.value,condition:r});return["Has"," ",c(xe,{get value(){return t()},onChange:n,get disabled(){return e.disabled}})," ",c(Se,{get class(){return j.inputCount},get value(){return t()},onChange:n,emptyValue:-1,get error(){return t().value<=0},get disabled(){return e.disabled}})," ","tidally locked planets"]},Va=e=>["Has planets with"," ",c($e,{get class(){return j.selectOcean},get value(){return e.value.oceanType},onChange:t=>e.onChange({...e.value,oceanType:t}),options:nu,getLabel:t=>t===Fe.Water?"Water":"Sulfuric Acid",get disabled(){return e.disabled}})," ","Ocean"],ja=e=>["Is a"," ",c($e,{get class(){return j.selectStarType},get value(){return e.value.starType[0]},onChange:t=>e.onChange({...e.value,starType:[t]}),options:ru,getLabel:t=>iu[t],get disabled(){return e.disabled}})],Fa=e=>{const t=()=>e.value.condition,n=r=>e.onChange({...e.value,condition:r});return["Has"," ",c(xe,{get value(){return t()},onChange:n,get disabled(){return e.disabled}})," ",c(Se,{get class(){return j.inputCount},get value(){return t()},onChange:n,emptyValue:-1,get error(){return t().value<=0},get disabled(){return e.disabled}})," ",c($e,{get class(){return j.selectGas},get value(){return e.value.ice},onChange:r=>e.onChange({...e.value,ice:r}),options:[null,!1,!0],getLabel:r=>r===null?"gas/ice":r?"ice":"gas",get disabled(){return e.disabled}})," ","giant(s)"]},qa=e=>{const t=()=>e.value.condition,n=r=>e.onChange({...e.value,condition:r});return["Has"," ",c(xe,{get value(){return t()},onChange:n,get disabled(){return e.disabled}})," ",c(Se,{get class(){return j.inputCount},get value(){return t()},onChange:n,emptyValue:-1,get error(){return t().value<=0},get disabled(){return e.disabled}})," ","satellite(s)"]},Wa=e=>{const t=()=>e.value.condition,n=r=>e.onChange({...e.value,condition:r});return["Has"," ",c(xe,{get value(){return t()},onChange:n,get disabled(){return e.disabled}})," ",c(Se,{get class(){return j.inputCount},get value(){return t()},onChange:n,emptyValue:-1,get error(){return t().value<=1},get disabled(){return e.disabled}})," ","planets,"," ",c($e,{get class(){return j.selectGasType},get value(){return e.value.excludeGiant},onChange:r=>e.onChange({...e.value,excludeGiant:r}),options:[!1,!0],getLabel:r=>r?"excluding":"including",get disabled(){return e.disabled}})," ","gas/ice giants."]},Ha=e=>{const t=()=>e.value.condition,n=r=>e.onChange({...e.value,condition:r});return["Is"," ",c(xe,{get value(){return t()},onChange:n,get disabled(){return e.disabled}})," ",c(Se,{get class(){return j.inputDistance},get value(){return t()},onChange:n,emptyValue:-1,get error(){return t().value<=0},get disabled(){return e.disabled}}),"ly away from the starting system"]},za=e=>{const t=()=>e.value.condition,n=r=>e.onChange({...e.value,condition:r});return["Is"," ",c(xe,{get value(){return t()},onChange:n,get disabled(){return e.disabled}})," ",c(Se,{get class(){return j.inputDistance},get value(){return t()},onChange:n,emptyValue:-1,get error(){return t().value<=0},get disabled(){return e.disabled}}),"ly away from any black hole / neutron star."]},Ua=e=>{const t=()=>e.value.countCondition,n=i=>e.onChange({...e.value,countCondition:i}),r=()=>e.value.distanceCondition,l=i=>e.onChange({...e.value,distanceCondition:i});return["Has"," ",c(xe,{get value(){return t()},onChange:n,get disabled(){return e.disabled}})," ",c(Se,{get class(){return j.inputCount},get value(){return t()},onChange:n,emptyValue:-1,get error(){return t().value<=0},get disabled(){return e.disabled}})," ",c($e,{get class(){return j.selectSpectr},get value(){return e.value.spectr},onChange:i=>e.onChange({...e.value,spectr:i}),options:Vi,getLabel:i=>i,get disabled(){return e.disabled}})," ","type stars that are"," ",c(xe,{get value(){return r()},onChange:l,get disabled(){return e.disabled}})," ",c(Se,{get class(){return j.inputDistance},get value(){return r()},onChange:l,emptyValue:-1,get error(){return r().value<=0},get disabled(){return e.disabled}})," ","ly away."]},Ka=e=>{const t=()=>e.value.condition,n=r=>e.onChange({...e.value,condition:r});return["Has"," ",c($e,{get class(){return j.selectGasType},get value(){return e.value.gasType},onChange:r=>e.onChange({...e.value,gasType:r}),options:ou,getLabel:r=>lu[r],get disabled(){return e.disabled}})," ","and"," ",c(xe,{get value(){return t()},onChange:n,get disabled(){return e.disabled}})," ",c(Se,{get class(){return j.inputGasRate},get value(){return t()},onChange:n,emptyValue:-1,get error(){return t().value<=0},get disabled(){return e.disabled}}),"/s of it"]},Xa=e=>{const t=()=>e.value.condition,n=r=>e.onChange({...e.value,condition:r});return["Has"," ",c(xe,{get value(){return t()},onChange:n,get disabled(){return e.disabled}})," ",c(Se,{get class(){return j.inputCount},get value(){return t()},onChange:n,emptyValue:-1,get error(){return t().value<=0},get disabled(){return e.disabled}})," ","planet(s) within max dyson sphere radius,"," ",c($e,{get class(){return j.selectGasType},get value(){return e.value.includeGiant},onChange:r=>e.onChange({...e.value,includeGiant:r}),options:[!1,!0],getLabel:r=>r?"including":"excluding",get disabled(){return e.disabled}})," ","gas/ice giants."]},Za=[16,14,19,11,7,10,12,17,24,9,1,20,23,25,15,18,22,6,13,8],Ja=e=>["Has a"," ",c($e,{get class(){return j.selectPlanetType},get value(){return e.value.themeIds[0]},onChange:t=>e.onChange({...e.value,themeIds:[t]}),options:Za,getLabel:t=>gi[t],get disabled(){return e.disabled}})," ","planet."];function ie(e,t){return e.type===t?e:!1}const Ya=e=>(()=>{const t=at();return h(t,c(Wn,{get children(){return[c(ee,{get when(){return ie(e.value,D.Luminosity)},children:n=>c(Ta,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.DysonRadius)},children:n=>c(Mr,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.AverageVeinAmount)},children:n=>c(Ia,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.Spectr)},children:n=>c(Ba,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.TidalLockCount)},children:n=>c(Ga,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.OceanType)},children:n=>c(Va,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.StarType)},children:n=>c(ja,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.GasCount)},children:n=>c(Fa,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.SatelliteCount)},children:n=>c(qa,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.DysonRadius)},children:n=>c(Mr,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.PlanetCount)},children:n=>c(Wa,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.BirthDistance)},children:n=>c(Ha,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.XDistance)},children:n=>c(za,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.SpectrDistance)},children:n=>c(Ua,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.GasRate)},children:n=>c(Ka,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.PlanetInDysonCount)},children:n=>c(Xa,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.ThemeId)},children:n=>c(Ja,te(e,{get value(){return n()}}))}),c(ee,{get when(){return ie(e.value,D.Birth)},get children(){const n=Ra();return $(()=>g(n,j.birth)),n}})]}})),$(()=>g(t,j.editRow)),t})(),Ii=e=>(()=>{const t=at();return t.$$click=()=>e.onDelete(),h(t,c($i,{})),$(()=>g(t,j.delete)),t})(),Bi=e=>(()=>{const t=at();return h(t,c(Ti,{get onChange(){return e.onChange}}),null),h(t,c(B,{get when(){return!!e.onDelete},get children(){return c(Ii,{onDelete:()=>{var n;return(n=e.onDelete)==null?void 0:n.call(e)}})}}),null),$(()=>g(t,j.row)),t})(),Qa=e=>{function t(l,i){e.onChange(e.value.map((o,s)=>s===i?l:o))}function n(l){e.onChange(e.value.filter((i,o)=>o!==l))}function r(){e.onChange([...e.value,{type:D.None}])}return c(B,{get when(){return e.value.length>0},get fallback(){return c(Bi,{onChange:l=>e.onChange([l]),get onDelete(){return e.onDelete}})},get children(){return[c(Ct,{get each(){return e.value},children:(l,i)=>[c(B,{when:i>0,get children(){const o=Ma();return $(()=>g(o,j.or)),o}}),(()=>{const o=at();return h(o,c(Ti,{get value(){return l()},onChange:s=>t(s,i),get disabled(){return e.disabled}}),null),h(o,c(Ya,{get value(){return l()},onChange:s=>t(s,i),get disabled(){return e.disabled}}),null),h(o,c(B,{get when(){return!e.disabled},get children(){return c(Ii,{onDelete:()=>n(i)})}}),null),$(()=>g(o,j.row)),o})()]}),c(B,{get when(){return!e.disabled},get children(){return c(z,{get class(){return j.addOr},kind:"outline",onClick:r,children:"Add OR rule"})}})]}})},Gi=e=>{function t(l){e.onChange(e.value.filter((i,o)=>o!==l))}function n(l,i){l.length>0?e.onChange(e.value.map((o,s)=>s===i?l:o)):t(i)}function r(){e.onChange([...e.value,[]])}return(()=>{const l=at();return h(l,c(B,{get when(){return e.value.length>0},get fallback(){return(()=>{const i=at();return h(i,c(Bi,{onChange:o=>e.onChange([[o]])})),$(()=>g(i,j.block)),i})()},get children(){return[c(Ct,{get each(){return e.value},children:(i,o)=>[c(B,{when:o>0,get children(){const s=Na();return $(()=>g(s,j.and)),s}}),(()=>{const s=at();return h(s,c(Qa,{get value(){return i()},onChange:a=>n(a,o),get disabled(){return e.disabled},get onDelete(){return e.value.length>1?()=>t(o):void 0}})),$(()=>g(s,j.block)),s})()]}),c(B,{get when(){return!e.disabled},get children(){return c(z,{get class(){return j.addAnd},kind:"outline",onClick:r,children:"Add AND rule"})}})]}})),$(()=>g(l,ve(j.ruleBuilder,e.class))),l})()},pa={[D.None]:"Select...",[D.And]:"",[D.Or]:"",[D.Birth]:"Starting System",[D.StarType]:"Type of star",[D.BirthDistance]:"Distance from Start",[D.XDistance]:"Distance from X Star",[D.SpectrDistance]:"Distance from Other Stars",[D.Luminosity]:"Luminosity",[D.Spectr]:"Spectral Class",[D.DysonRadius]:"Max Dyson Sphere Radius",[D.PlanetCount]:"Planet Count",[D.SatelliteCount]:"Satellite Count",[D.TidalLockCount]:"Tidally Locked Planet Count",[D.ThemeId]:"Planet Themes",[D.GasCount]:"Gas/Ice Giant Count",[D.OceanType]:"Ocean",[D.GasRate]:"Gas Rate",[D.AverageVeinAmount]:"Vein Amount",[D.PlanetInDysonCount]:"Planets in Dyson Sphere"},eu=[{type:D.BirthDistance,condition:{type:Z.Lte,value:0}},{type:D.SpectrDistance,spectr:de.O,countCondition:{type:Z.Gte,value:1},distanceCondition:{type:Z.Lte,value:0}},{type:D.XDistance,condition:{type:Z.Lte,value:0}},{type:D.GasCount,ice:null,condition:{type:Z.Gte,value:1}},{type:D.GasRate,gasType:ce.Hydrogen,condition:{type:Z.Gte,value:0}},{type:D.Luminosity,condition:{type:Z.Gte,value:2}},{type:D.DysonRadius,condition:{type:Z.Gte,value:0}},{type:D.OceanType,oceanType:Fe.Water},{type:D.PlanetCount,condition:{type:Z.Gte,value:2},excludeGiant:!1},{type:D.ThemeId,themeIds:[1]},{type:D.PlanetInDysonCount,includeGiant:!1,condition:{type:Z.Gte,value:1}},{type:D.SatelliteCount,condition:{type:Z.Gte,value:1}},{type:D.Spectr,spectr:[de.O]},{type:D.Birth},{type:D.TidalLockCount,condition:{type:Z.Gte,value:1}},{type:D.StarType,starType:[oe.MainSeqStar]},{type:D.AverageVeinAmount,vein:I.Iron,condition:{type:Z.Gte,value:0}}],tu=[I.Iron,I.Copper,I.Silicium,I.Titanium,I.Stone,I.Coal,I.Oil,I.Fireice,I.Diamond,I.Fractal,I.Crysrub,I.Grat,I.Bamboo,I.Mag],Vi=[de.O,de.B,de.A,de.F,de.G,de.K,de.M,de.X],nu=[Fe.Water,Fe.Sulfur],ru=[oe.MainSeqStar,oe.GiantStar,oe.WhiteDwarf,oe.BlackHole,oe.NeutronStar],iu={[oe.MainSeqStar]:"Normal Star",[oe.GiantStar]:"Giant Star",[oe.WhiteDwarf]:"White Dwarf",[oe.BlackHole]:"Black Hole",[oe.NeutronStar]:"Neutron Star"},ou=[ce.Hydrogen,ce.Deuterium,ce.Fireice],lu={[ce.None]:"",[ce.Hydrogen]:"Hydrogen",[ce.Deuterium]:"Deuterium",[ce.Fireice]:"Fire Ice"};we(["click"]);const su="_content_gcv3z_1",au="_execute_gcv3z_9",uu="_progress_gcv3z_17",cu="_progressBar_gcv3z_24",du="_rules_gcv3z_28",fu="_results_gcv3z_32",gu="_result_gcv3z_32",vu="_resultIndex_gcv3z_47",hu="_viewTop_gcv3z_51",_u="_viewTitle_gcv3z_56",be={content:su,execute:au,progress:uu,progressBar:cu,rules:du,results:fu,result:gu,resultIndex:vu,viewTop:hu,viewTitle:_u},mu="_modal_swxxt_1",$u="_hidden_swxxt_19",bu="_content_swxxt_28",yu="_close_swxxt_40",xt={modal:mu,hidden:$u,content:bu,close:yu},wu=S("<div>"),Cu=S("<div><div>"),pe=e=>{function t(n){var r;e.backdropDismiss&&n.currentTarget===n.target&&((r=e.onClose)==null||r.call(e))}return(()=>{const n=Cu(),r=n.firstChild;return n.$$click=t,h(r,c(B,{get when(){return!!e.onClose},get children(){const l=wu();return l.$$click=()=>{var i;return(i=e.onClose)==null?void 0:i.call(e)},h(l,c(Bl,{})),$(()=>g(l,xt.close)),l}}),null),h(r,()=>e.children,null),$(l=>{const i=ve(xt.modal,e.class,e.visible?xt.visible:xt.hidden),o=xt.content;return i!==l._v$&&g(n,l._v$=i),o!==l._v$2&&g(r,l._v$2=o),l},{_v$:void 0,_v$2:void 0}),n})()};we(["click"]);const xu="_title_zgsw6_1",Su="_profiles_zgsw6_8",Pu="_profile_zgsw6_8",ku="_name_zgsw6_35",Au="_time_zgsw6_42",dt={title:xu,profiles:Su,profile:Pu,name:ku,time:Au},Du=S("<div>Profiles"),Eu=S("<div>"),Lu=S("<div>No saved profiles."),Ou=S("<div><span></span><span>");function ji(e){const[t,n]=G();return me(()=>{e.visible&&e.loadProfiles().then(n)}),c(pe,{get visible(){return e.visible},get onClose(){return e.onClose},backdropDismiss:!0,get children(){return[(()=>{const r=Du();return $(()=>g(r,dt.title)),r})(),(()=>{const r=Eu();return h(r,c(B,{get when(){var l;return!!((l=t())!=null&&l.length)},get fallback(){return(()=>{const l=Lu();return $(()=>g(l,dt.noResult)),l})()},get children(){return c(Ve,{get each(){return t()},children:l=>(()=>{const i=Ou(),o=i.firstChild,s=o.nextSibling;return i.$$click=()=>e.onSelect(l),h(o,()=>l.name),h(s,()=>new Date(l.createdAt).toLocaleString()),$(a=>{const u=dt.profile,d=dt.name,f=dt.time;return u!==a._v$&&g(i,a._v$=u),d!==a._v$2&&g(o,a._v$2=d),f!==a._v$3&&g(s,a._v$3=f),a},{_v$:void 0,_v$2:void 0,_v$3:void 0}),i})()})}})),$(()=>g(r,dt.profiles)),r})()]}})}we(["click"]);const Ru="_content_ucyxx_1",Mu="_progressBar_ucyxx_7",Nu="_inner_ucyxx_15",Tu="_text_ucyxx_21",It={content:Ru,progressBar:Mu,inner:Nu,text:Tu},Iu=S("<div><div><div></div></div><div> / "),Fi=e=>(()=>{const t=Iu(),n=t.firstChild,r=n.firstChild,l=n.nextSibling,i=l.firstChild;return h(l,()=>e.current,i),h(l,()=>e.total,null),$(o=>{const s=ve(It.content,e.class),a=It.progressBar,u=It.inner,d=`${(e.current*100/e.total).toFixed(2)}%`,f=It.text;return s!==o._v$&&g(t,o._v$=s),a!==o._v$2&&g(n,o._v$2=a),u!==o._v$3&&g(r,o._v$3=u),d!==o._v$4&&((o._v$4=d)!=null?r.style.setProperty("width",d):r.style.removeProperty("width")),f!==o._v$5&&g(l,o._v$5=f),o},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),t})(),Bu="_view_1arv3_1",Gu="_main_1arv3_6",Vu="_column_1arv3_17",ju="_card_1arv3_26",Fu="_expand_1arv3_34",qu="_expanded_1arv3_51",Wu="_title_1arv3_55",Hu="_index_1arv3_60",zu="_row_1arv3_65",Uu="_value_1arv3_79",Ku="_nearbyRow_1arv3_83",Xu="_nearbyType_1arv3_87",Zu="_nearbyDistance_1arv3_91",Ju="_planets_1arv3_97",Yu="_planet_1arv3_97",Qu="_planetName_1arv3_116",C={view:Bu,main:Gu,column:Vu,card:ju,expand:Fu,expanded:qu,title:Wu,index:Hu,row:zu,value:Uu,nearbyRow:Ku,nearbyType:Xu,nearbyDistance:Zu,planets:Ju,planet:Yu,planetName:Qu},pu="_tooltip_1r48o_1",ec="_popup_1r48o_6",Nr={tooltip:pu,popup:ec},tc=S("<span><div>"),ut=e=>{let t,n;const[r,l]=G(!1);return me(()=>{r()?(n.style.display="",Ni(t,n,{strategy:"fixed",placement:"top",middleware:[Pi({fallbackPlacements:["bottom"]}),ua()]}).then(({x:i,y:o})=>{n.style.left=i+"px",n.style.top=o+"px"})):n.style.display="none"}),(()=>{const i=tc(),o=i.firstChild;i.addEventListener("mouseleave",()=>l(!1)),i.addEventListener("mouseenter",()=>l(!0));const s=t;typeof s=="function"?Xt(s,i):t=i,h(i,()=>e.children,o);const a=n;return typeof a=="function"?Xt(a,o):n=o,h(o,()=>e.text),$(u=>{const d=ve(Nr.tooltip,e.class),f=Nr.popup;return d!==u._v$&&g(i,u._v$=d),f!==u._v$2&&g(o,u._v$2=f),u},{_v$:void 0,_v$2:void 0}),i})()},nc=S("<div>"),Bn=S("<div><div>Type</div><div>"),rc=S("<div><div>Spectral Class</div><div>"),ic=S("<div><div>Luminosity</div><div> L"),oc=S("<div><div>Distance from Start</div><div> ly"),lc=S("<div><div>Distance from nearest </div><div> ly"),sc=S("<div><div>Distance from furthest </div><div> ly"),ac=S("<div><div>Max Dyson Sphere Radius</div><div> m"),uc=S("<div><div>Radius</div><div> m"),cc=S("<div><div>Mass</div><div> M"),dc=S("<div><div>Temperature</div><div> K"),fc=S("<div><div>Age</div><div> Myrs"),gc=S("<div>~ "),qi=S("<div><div>Water</div><div>Ocean"),Wi=S("<div><div>Sulfuric Acid</div><div>Ocean"),Hi=S("<div><div>"),zi=S("<div><div></div><div> /s"),vc=S("<div><span></span><span>#"),hc=S("<div><span></span><span> ly"),_c=S("<div>Satellite"),mc=S("<div>Tidal locking"),$c=S("<div>Orbital Resonance 1 : 2"),bc=S("<div>Orbital Resonance 1 : 4"),yc=S("<div>Horizontal Rotation"),wc=S("<div><div>Wind Power</div><div>%"),Cc=S("<div><div>Solar Power</div><div>%"),xc=S("<div><div> "),Sc=S("<div><div><div><span>Nearby Stars"),Pc=S("<div><div><div><div><div><span></span><span>#</span></div></div><div><div><span>Resources</span></div></div></div></div><div><div><div><span>Planets");function kc(e){const t={};for(const n of e.planets)for(const r of n.veins){const l=fi(r),i=t[r.veinType];i?(i.min+=l.min,i.max+=l.max,i.avg+=l.avg):t[r.veinType]={...l}}return ci.map(n=>t[n]).filter(n=>n)}function Ac(e){const t={};for(const n of e.planets)for(const[r,l]of n.gases)t[r]??(t[r]=0),t[r]+=l;return di.filter(n=>t[n]).map(n=>[n,t[n]])}function Dc(e){return!!e.planets.find(t=>t.theme.waterItemId===Fe.Water)}function Ec(e){return!!e.planets.find(t=>t.theme.waterItemId===Fe.Sulfur)}function Lc(e){const t={};for(const n of e.veins){const r=fi(n),l=t[n.veinType];l?(l.min+=r.min,l.max+=r.max,l.avg+=r.avg):t[n.veinType]={...r}}return ci.map(n=>t[n]).filter(n=>n)}function Oc(e){const t={};for(const[n,r]of e.gases)t[n]??(t[n]=0),t[n]+=r;return di.filter(n=>t[n]).map(n=>[n,t[n]])}function Sn(e,t){return t?Be(e*4e-5,2)+" /s":Re(e,0)}function Rc(e,t){const[n,r,l]=e.position,i=t.filter(o=>o.index!==e.index).map(o=>{const[s,a,u]=o.position,d=n-s,f=r-a,v=l-u;return{star:o,distance:Math.sqrt(d*d+f*f+v*v)}});return i.sort((o,s)=>o.distance-s.distance),i}const Mc=e=>(()=>{const t=nc();return t.$$click=()=>e.toggle(),h(t,c(Tl,{})),$(()=>g(t,ve(C.expand,e.expand&&C.expanded))),t})(),Nc=e=>[(()=>{const t=Bn(),n=t.firstChild,r=n.nextSibling;return h(r,()=>hi(e.star)),$(l=>{const i=C.row,o=C.field,s=C.value;return i!==l._v$&&g(t,l._v$=i),o!==l._v$2&&g(n,l._v$2=o),s!==l._v$3&&g(r,l._v$3=s),l},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})(),(()=>{const t=rc(),n=t.firstChild,r=n.nextSibling;return h(r,()=>e.star.spectr),$(l=>{const i=C.row,o=C.field,s=C.value;return i!==l._v$4&&g(t,l._v$4=i),o!==l._v$5&&g(n,l._v$5=o),s!==l._v$6&&g(r,l._v$6=s),l},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),t})(),(()=>{const t=ic(),n=t.firstChild,r=n.nextSibling,l=r.firstChild;return h(r,()=>Be(e.star.luminosity,3),l),$(i=>{const o=C.row,s=C.field,a=C.value;return o!==i._v$7&&g(t,i._v$7=o),s!==i._v$8&&g(n,i._v$8=s),a!==i._v$9&&g(r,i._v$9=a),i},{_v$7:void 0,_v$8:void 0,_v$9:void 0}),t})(),(()=>{const t=oc(),n=t.firstChild,r=n.nextSibling,l=r.firstChild;return h(r,()=>Be(Cl(e.star.position),1),l),$(i=>{const o=C.row,s=C.field,a=C.value;return o!==i._v$10&&g(t,i._v$10=o),s!==i._v$11&&g(n,i._v$11=s),a!==i._v$12&&g(r,i._v$12=a),i},{_v$10:void 0,_v$11:void 0,_v$12:void 0}),t})(),c(B,{get when(){return e.positions},get children(){const t=lc(),n=t.firstChild;n.firstChild;const r=n.nextSibling,l=r.firstChild;return h(n,c(ut,{text:"Black Hole / Neutron Star",children:"X star"}),null),h(r,()=>Be(xl(e.star.position,e.positions),1),l),$(i=>{const o=C.row,s=C.field,a=C.value;return o!==i._v$13&&g(t,i._v$13=o),s!==i._v$14&&g(n,i._v$14=s),a!==i._v$15&&g(r,i._v$15=a),i},{_v$13:void 0,_v$14:void 0,_v$15:void 0}),t}}),c(B,{get when(){return e.positions},get children(){const t=sc(),n=t.firstChild;n.firstChild;const r=n.nextSibling,l=r.firstChild;return h(n,c(ut,{text:"Black Hole / Neutron Star",children:"X star"}),null),h(r,()=>Be(Sl(e.star.position,e.positions),1),l),$(i=>{const o=C.row,s=C.field,a=C.value;return o!==i._v$16&&g(t,i._v$16=o),s!==i._v$17&&g(n,i._v$17=s),a!==i._v$18&&g(r,i._v$18=a),i},{_v$16:void 0,_v$17:void 0,_v$18:void 0}),t}}),(()=>{const t=ac(),n=t.firstChild,r=n.nextSibling,l=r.firstChild;return h(r,()=>Re(e.star.dysonRadius,0),l),$(i=>{const o=C.row,s=C.field,a=C.value;return o!==i._v$19&&g(t,i._v$19=o),s!==i._v$20&&g(n,i._v$20=s),a!==i._v$21&&g(r,i._v$21=a),i},{_v$19:void 0,_v$20:void 0,_v$21:void 0}),t})(),c(B,{get when(){return e.expand},get children(){return[(()=>{const t=uc(),n=t.firstChild,r=n.nextSibling,l=r.firstChild;return h(r,()=>Re(e.star.radius*1600,0),l),$(i=>{const o=C.row,s=C.field,a=C.value;return o!==i._v$22&&g(t,i._v$22=o),s!==i._v$23&&g(n,i._v$23=s),a!==i._v$24&&g(r,i._v$24=a),i},{_v$22:void 0,_v$23:void 0,_v$24:void 0}),t})(),(()=>{const t=cc(),n=t.firstChild,r=n.nextSibling,l=r.firstChild;return h(r,()=>Be(e.star.mass,3),l),$(i=>{const o=C.row,s=C.field,a=C.value;return o!==i._v$25&&g(t,i._v$25=o),s!==i._v$26&&g(n,i._v$26=s),a!==i._v$27&&g(r,i._v$27=a),i},{_v$25:void 0,_v$26:void 0,_v$27:void 0}),t})(),(()=>{const t=dc(),n=t.firstChild,r=n.nextSibling,l=r.firstChild;return h(r,()=>Re(e.star.temperature,0),l),$(i=>{const o=C.row,s=C.field,a=C.value;return o!==i._v$28&&g(t,i._v$28=o),s!==i._v$29&&g(n,i._v$29=s),a!==i._v$30&&g(r,i._v$30=a),i},{_v$28:void 0,_v$29:void 0,_v$30:void 0}),t})(),(()=>{const t=fc(),n=t.firstChild,r=n.nextSibling,l=r.firstChild;return h(r,()=>Re(e.star.age*e.star.lifetime,0),l),$(i=>{const o=C.row,s=C.field,a=C.value;return o!==i._v$31&&g(t,i._v$31=o),s!==i._v$32&&g(n,i._v$32=s),a!==i._v$33&&g(r,i._v$33=a),i},{_v$31:void 0,_v$32:void 0,_v$33:void 0}),t})()]}})],Ui=e=>{const t=()=>e.stat.veinType===I.Oil,n=()=>Sn(e.stat.avg,t()),r=()=>Sn(e.stat.min,t()),l=()=>Sn(e.stat.max,t());return(()=>{const i=gc();return i.firstChild,h(i,c(ut,{get text(){return`Estimated:
${r()} - ${l()}`},get children(){return n()}}),null),$(()=>g(i,e.class)),i})()},Tc=e=>[c(Ve,{get each(){return kc(e.star)},children:t=>(()=>{const n=Hi(),r=n.firstChild;return h(r,()=>Xn[t.veinType]),h(n,c(Ui,{get class(){return C.value},stat:t}),null),$(l=>{const i=C.row,o=C.field;return i!==l._v$40&&g(n,l._v$40=i),o!==l._v$41&&g(r,l._v$41=o),l},{_v$40:void 0,_v$41:void 0}),n})()}),c(B,{get when(){return Dc(e.star)},get children(){const t=qi(),n=t.firstChild,r=n.nextSibling;return $(l=>{const i=C.row,o=C.field,s=C.value;return i!==l._v$34&&g(t,l._v$34=i),o!==l._v$35&&g(n,l._v$35=o),s!==l._v$36&&g(r,l._v$36=s),l},{_v$34:void 0,_v$35:void 0,_v$36:void 0}),t}}),c(B,{get when(){return Ec(e.star)},get children(){const t=Wi(),n=t.firstChild,r=n.nextSibling;return $(l=>{const i=C.row,o=C.field,s=C.value;return i!==l._v$37&&g(t,l._v$37=i),o!==l._v$38&&g(n,l._v$38=o),s!==l._v$39&&g(r,l._v$39=s),l},{_v$37:void 0,_v$38:void 0,_v$39:void 0}),t}}),c(Ve,{get each(){return Ac(e.star)},children:([t,n])=>(()=>{const r=zi(),l=r.firstChild,i=l.nextSibling,o=i.firstChild;return h(l,()=>ui[t]),h(i,()=>Be(n,4),o),$(s=>{const a=C.row,u=C.field,d=C.value;return a!==s._v$42&&g(r,s._v$42=a),u!==s._v$43&&g(l,s._v$43=u),d!==s._v$44&&g(i,s._v$44=d),s},{_v$42:void 0,_v$43:void 0,_v$44:void 0}),r})()})],Ic=e=>c(Qe,{get href(){return e.url},get target(){return e.newPage?"_blank":void 0},get class(){return ve(C.row,C.nearbyRow)},get children(){return[(()=>{const t=vc(),n=t.firstChild,r=n.nextSibling;return r.firstChild,h(n,()=>e.star.name),h(r,()=>e.star.index+1,null),$(()=>g(r,C.index)),t})(),(()=>{const t=hc(),n=t.firstChild,r=n.nextSibling,l=r.firstChild;return h(n,()=>hi(e.star)),h(r,()=>Be(e.distance,1),l),$(i=>{const o=C.nearbyType,s=C.nearbyDistance;return o!==i._v$45&&g(n,i._v$45=o),s!==i._v$46&&g(r,i._v$46=s),i},{_v$45:void 0,_v$46:void 0}),t})()]}}),Bc=e=>{function t(){return e.planet.type===si.Gas}return(()=>{const n=xc(),r=n.firstChild,l=r.firstChild;return h(r,()=>e.star.name,l),h(r,()=>yl[e.planet.index],null),h(n,c(B,{get when(){return t()},get children(){const i=Bn(),o=i.firstChild,s=o.nextSibling;return h(s,()=>e.planet.gases.find(([a])=>a===ce.Deuterium)?"Gas Giant":"Ice Giant"),$(a=>{const u=C.row,d=C.field,f=C.value;return u!==a._v$47&&g(i,a._v$47=u),d!==a._v$48&&g(o,a._v$48=d),f!==a._v$49&&g(s,a._v$49=f),a},{_v$47:void 0,_v$48:void 0,_v$49:void 0}),i}}),null),h(n,c(B,{get when(){return!t()},get children(){return[c(B,{get when(){return e.planet.orbitAround!=null},get children(){const i=_c();return $(()=>g(i,C.row)),i}}),c(B,{get when(){return e.planet.orbitalPeriod===e.planet.rotationPeriod},get children(){const i=mc();return $(()=>g(i,C.row)),i}}),c(B,{get when(){return e.planet.orbitalPeriod*.5===e.planet.rotationPeriod},get children(){const i=$c();return $(()=>g(i,C.row)),i}}),c(B,{get when(){return e.planet.orbitalPeriod*.25===e.planet.rotationPeriod},get children(){const i=bc();return $(()=>g(i,C.row)),i}}),c(B,{get when(){return Math.abs(e.planet.obliquity)>70},get children(){const i=yc();return $(()=>g(i,C.row)),i}}),(()=>{const i=wc(),o=i.firstChild,s=o.nextSibling,a=s.firstChild;return h(s,()=>Re(e.planet.theme.wind*100,0),a),$(u=>{const d=C.row,f=C.field,v=C.value;return d!==u._v$50&&g(i,u._v$50=d),f!==u._v$51&&g(o,u._v$51=f),v!==u._v$52&&g(s,u._v$52=v),u},{_v$50:void 0,_v$51:void 0,_v$52:void 0}),i})(),(()=>{const i=Cc(),o=i.firstChild,s=o.nextSibling,a=s.firstChild;return h(s,()=>Re(e.planet.luminosity*100,0),a),$(u=>{const d=C.row,f=C.field,v=C.value;return d!==u._v$53&&g(i,u._v$53=d),f!==u._v$54&&g(o,u._v$54=f),v!==u._v$55&&g(s,u._v$55=v),u},{_v$53:void 0,_v$54:void 0,_v$55:void 0}),i})(),(()=>{const i=Bn(),o=i.firstChild,s=o.nextSibling;return h(s,()=>gi[e.planet.theme.id]||e.planet.theme.id),$(a=>{const u=C.row,d=C.field,f=C.value;return u!==a._v$56&&g(i,a._v$56=u),d!==a._v$57&&g(o,a._v$57=d),f!==a._v$58&&g(s,a._v$58=f),a},{_v$56:void 0,_v$57:void 0,_v$58:void 0}),i})()]}}),null),h(n,c(Ve,{get each(){return Lc(e.planet)},children:i=>(()=>{const o=Hi(),s=o.firstChild;return h(s,()=>Xn[i.veinType]),h(o,c(Ui,{get class(){return C.value},stat:i}),null),$(a=>{const u=C.row,d=C.field;return u!==a._v$67&&g(o,a._v$67=u),d!==a._v$68&&g(s,a._v$68=d),a},{_v$67:void 0,_v$68:void 0}),o})()}),null),h(n,c(B,{get when(){return e.planet.theme.waterItemId===Fe.Water},get children(){const i=qi(),o=i.firstChild,s=o.nextSibling;return $(a=>{const u=C.row,d=C.field,f=C.value;return u!==a._v$59&&g(i,a._v$59=u),d!==a._v$60&&g(o,a._v$60=d),f!==a._v$61&&g(s,a._v$61=f),a},{_v$59:void 0,_v$60:void 0,_v$61:void 0}),i}}),null),h(n,c(B,{get when(){return e.planet.theme.waterItemId===Fe.Sulfur},get children(){const i=Wi(),o=i.firstChild,s=o.nextSibling;return $(a=>{const u=C.row,d=C.field,f=C.value;return u!==a._v$62&&g(i,a._v$62=u),d!==a._v$63&&g(o,a._v$63=d),f!==a._v$64&&g(s,a._v$64=f),a},{_v$62:void 0,_v$63:void 0,_v$64:void 0}),i}}),null),h(n,c(Ve,{get each(){return Oc(e.planet)},children:([i,o])=>(()=>{const s=zi(),a=s.firstChild,u=a.nextSibling,d=u.firstChild;return h(a,()=>ui[i]),h(u,()=>Be(o,4),d),$(f=>{const v=C.row,m=C.field,_=C.value;return v!==f._v$69&&g(s,f._v$69=v),m!==f._v$70&&g(a,f._v$70=m),_!==f._v$71&&g(u,f._v$71=_),f},{_v$69:void 0,_v$70:void 0,_v$71:void 0}),s})()}),null),$(i=>{const o=C.planet,s=C.planetName;return o!==i._v$65&&g(n,i._v$65=o),s!==i._v$66&&g(r,i._v$66=s),i},{_v$65:void 0,_v$66:void 0}),n})()},Ki=e=>{const[t,n]=Dt({detail:!1,planets:{}}),r=F(()=>{var l;return(l=e.galaxy)==null?void 0:l.stars.filter(i=>i.type===oe.BlackHole||i.type===oe.NeutronStar).map(i=>i.position)});return(()=>{const l=Pc(),i=l.firstChild,o=i.firstChild,s=o.firstChild,a=s.firstChild,u=a.firstChild,d=u.nextSibling;d.firstChild;const f=s.nextSibling,v=f.firstChild,m=i.nextSibling,_=m.firstChild,w=_.firstChild;return h(s,c(Mc,{get expand(){return t.detail},toggle:()=>n("detail",y=>!y)}),a),h(u,()=>e.star.name),h(d,()=>e.star.index+1,null),h(s,c(Nc,{get star(){return e.star},get expand(){return t.detail},get positions(){return r()}}),null),h(f,c(Tc,{get star(){return e.star}}),null),h(i,c(B,{get when(){return!!e.galaxy},get children(){const y=Sc(),P=y.firstChild,b=P.firstChild;return h(P,c(Ve,{get each(){return Rc(e.star,e.galaxy.stars)},children:({star:A,distance:L})=>c(Ic,{get seed(){return e.galaxy.seed},star:A,distance:L,get url(){return e.buildUrl(A.index)},get newPage(){return e.newPage}})}),null),$(A=>{const L=C.column,R=C.card,q=C.title;return L!==A._v$72&&g(y,A._v$72=L),R!==A._v$73&&g(P,A._v$73=R),q!==A._v$74&&g(b,A._v$74=q),A},{_v$72:void 0,_v$73:void 0,_v$74:void 0}),y}}),null),h(_,c(Ve,{get each(){return e.star.planets},children:y=>c(Bc,{get star(){return e.star},planet:y})}),null),$(y=>{const P=C.view,b=C.main,A=C.column,L=C.card,R=C.title,q=C.index,K=C.card,M=C.title,E=C.column,O=ve(C.card,C.planets),W=C.title;return P!==y._v$75&&g(l,y._v$75=P),b!==y._v$76&&g(i,y._v$76=b),A!==y._v$77&&g(o,y._v$77=A),L!==y._v$78&&g(s,y._v$78=L),R!==y._v$79&&g(a,y._v$79=R),q!==y._v$80&&g(d,y._v$80=q),K!==y._v$81&&g(f,y._v$81=K),M!==y._v$82&&g(v,y._v$82=M),E!==y._v$83&&g(m,y._v$83=E),O!==y._v$84&&g(_,y._v$84=O),W!==y._v$85&&g(w,y._v$85=W),y},{_v$75:void 0,_v$76:void 0,_v$77:void 0,_v$78:void 0,_v$79:void 0,_v$80:void 0,_v$81:void 0,_v$82:void 0,_v$83:void 0,_v$84:void 0,_v$85:void 0}),l})()};we(["click"]);const Gc=S("<input>"),Xi=e=>(()=>{const t=Gc();return t.$$input=n=>{var r;return(r=e.onChange)==null?void 0:r.call(e,n.currentTarget.value)},$(n=>{const r=ve(ht.input,e.class,e.error&&ht.error,e.disabled&&ht.disabled),l=e.maxLength,i=e.disabled;return r!==n._v$&&g(t,n._v$=r),l!==n._v$2&&je(t,"maxlength",n._v$2=l),i!==n._v$3&&(t.disabled=n._v$3=i),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),$(()=>t.value=e.value),t})();we(["input"]);const Vc="_fields_1bnd4_1",jc="_field_1bnd4_1",Fc="_label_1bnd4_13",qc="_input_1bnd4_18",Wc="_inputStandard_1bnd4_25",Hc="_inputSeed_1bnd4_29",zc="_inputSmall_1bnd4_33",X={fields:Vc,field:jc,label:Fc,input:qc,inputStandard:Wc,inputSeed:Hc,inputSmall:zc},tr=e=>c(Pe,{get class(){return e.class},get value(){return e.value},onChange:t=>e.onChange(t),get error(){return e.value<un||e.value>cn},emptyValue:0,get disabled(){return e.disabled}}),Uc="_toggle_1r93v_1",Kc="_active_1r93v_11",Xc="_slider_1r93v_15",Pn={toggle:Uc,active:Kc,slider:Xc},Zc=S("<div><div>"),Zi=e=>(()=>{const t=Zc(),n=t.firstChild;return t.$$click=()=>{var r;return!e.disabled&&((r=e.onChange)==null?void 0:r.call(e,!e.value))},$(r=>{const l=ve(Pn.toggle,e.value&&Pn.active),i=Pn.slider;return l!==r._v$&&g(t,r._v$=l),i!==r._v$2&&g(n,r._v$2=i),r},{_v$:void 0,_v$2:void 0}),t})();we(["click"]);const Jc="/DSP-Seed-Finder/assets/dsp_seed-ak2CoQGZ.exe",nr=e=>c($e,{get class(){return e.class},get value(){return e.value},onChange:t=>e.onChange(t),options:[.1,.5,.8,1,1.5,2,3,5,8,100],getLabel:t=>t===100?"Infinite":t<=.2?"Scarce":t+"x",get disabled(){return e.disabled}}),Yc=S("<div><div><div>Profile Name</div><div></div></div><div></div><div><div>Star count</div><div></div></div><div><div></div><div><a download></a></div></div><div><div>Resource Multipler</div><div></div></div><div><div></div><div></div></div><div><div>Seed Range</div><div> to </div></div><div><div></div><div>Every <!> seconds");function Ji(e){const t=()=>e.progress.start>-1&&e.progress.current>e.progress.start,n=()=>e.searching||t();return(()=>{const r=Yc(),l=r.firstChild,i=l.firstChild,o=i.firstChild,s=i.nextSibling,a=l.nextSibling,u=a.nextSibling,d=u.firstChild,f=d.nextSibling,v=u.nextSibling,m=v.firstChild,_=m.nextSibling,w=_.firstChild,y=v.nextSibling,P=y.firstChild,b=P.nextSibling,A=y.nextSibling,L=A.firstChild,R=L.nextSibling,q=A.nextSibling,K=q.firstChild,M=K.nextSibling,E=M.firstChild,O=q.nextSibling,W=O.firstChild,Y=W.nextSibling,ae=Y.firstChild,Q=ae.nextSibling;return Q.nextSibling,h(i,()=>e.isLoaded?"":"New ",o),h(s,c(Xi,{get value(){return e.name},get onChange(){return e.onNameChange},get error(){return e.name===""},get disabled(){return e.searching}})),h(f,c(tr,{get class(){return X.inputStandard},get value(){return e.progress.starCount},onChange:k=>e.onProgressChange("starCount",k),get disabled(){return n()}})),h(m,c(ut,{text:"To run the search in (faster) native mode, click the download button and run the program on your PC, then enable this option.",children:"Native Mode"})),h(_,c(Zi,{get value(){return e.nativeMode},get onChange(){return e.onNativeModeChange},get disabled(){return e.searching}}),w),je(w,"href",Jc),h(w,c(z,{kind:"outline",children:"Download"})),h(b,c(nr,{get class(){return X.inputStandard},get value(){return e.progress.resourceMultiplier},onChange:k=>e.onProgressChange("resourceMultiplier",k),get disabled(){return n()}})),h(L,c(ut,{text:"The number of parallel processes to run the search.",children:"Concurrency"})),h(R,c(Pe,{get class(){return X.inputStandard},get value(){return e.progress.concurrency},onChange:k=>e.onProgressChange("concurrency",k),emptyValue:-1,maxLength:2,get error(){return!Number.isInteger(e.progress.concurrency)||e.progress.concurrency<1},get disabled(){return e.searching}})),h(M,c(Pe,{get class(){return X.inputSeed},get value(){return e.progress.start},onChange:k=>e.onProgressChange("start",k),emptyValue:-1,maxLength:8,get error(){return e.progress.start<0||e.progress.start>=e.progress.end},get disabled(){return n()}}),E),h(M,c(Pe,{get class(){return X.inputSeed},get value(){return e.progress.end-1},onChange:k=>e.onProgressChange("end",k+1),emptyValue:-1,maxLength:8,get error(){return e.progress.end>1e8||e.progress.start>=e.progress.end},get disabled(){return n()}}),null),h(W,c(ut,{text:"Running autosave too frequently may decrease search performance.",children:"Autosave interval"})),h(Y,c(Pe,{get class(){return X.inputSmall},get value(){return e.progress.autosave},onChange:k=>e.onProgressChange("autosave",k),emptyValue:-1,get error(){return e.progress.autosave<=0},get disabled(){return e.searching}}),Q),$(k=>{const re=X.fields,he=X.field,Ee=X.label,x=X.input,N=X.field,V=X.label,p=X.input,T=X.field,Ue=X.label,Ke=X.input,Xe=X.field,Ze=X.label,ir=X.input,or=X.field,lr=X.label,sr=X.input,ar=X.field,ur=X.label,cr=X.input,dr=X.field,fr=X.label,gr=X.input;return re!==k._v$&&g(r,k._v$=re),he!==k._v$2&&g(l,k._v$2=he),Ee!==k._v$3&&g(i,k._v$3=Ee),x!==k._v$4&&g(s,k._v$4=x),N!==k._v$5&&g(u,k._v$5=N),V!==k._v$6&&g(d,k._v$6=V),p!==k._v$7&&g(f,k._v$7=p),T!==k._v$8&&g(v,k._v$8=T),Ue!==k._v$9&&g(m,k._v$9=Ue),Ke!==k._v$10&&g(_,k._v$10=Ke),Xe!==k._v$11&&g(y,k._v$11=Xe),Ze!==k._v$12&&g(P,k._v$12=Ze),ir!==k._v$13&&g(b,k._v$13=ir),or!==k._v$14&&g(A,k._v$14=or),lr!==k._v$15&&g(L,k._v$15=lr),sr!==k._v$16&&g(R,k._v$16=sr),ar!==k._v$17&&g(q,k._v$17=ar),ur!==k._v$18&&g(K,k._v$18=ur),cr!==k._v$19&&g(M,k._v$19=cr),dr!==k._v$20&&g(O,k._v$20=dr),fr!==k._v$21&&g(W,k._v$21=fr),gr!==k._v$22&&g(Y,k._v$22=gr),k},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0,_v$19:void 0,_v$20:void 0,_v$21:void 0,_v$22:void 0}),r})()}const Qc="_top_13wza_1",pc="_modalTitle_13wza_8",ed="_warnText_13wza_14",td="_warnButtons_13wza_19",Oe={top:Qc,modalTitle:pc,warnText:ed,warnButtons:td},kn=S("<div>Are you sure?"),nd=S("<div>Do you really want to clear all progress? This cannot be undone."),An=S("<div>"),rd=S("<div>Do you really want to delete all settings and progress? This cannot be undone."),id=S("<div>Do you really want to create a new profile? All unsaved changes will be lost."),od=S("<div>Profile:"),Yi=e=>{const[t,n]=G(!1),[r,l]=G(!1),[i,o]=G(!1);return(()=>{const s=od();return s.firstChild,h(s,c(z,{get onClick(){return e.onLoad},get disabled(){return e.disabled},children:"Load"}),null),h(s,c(z,{get onClick(){return e.onSave},get disabled(){return e.disabled||!e.isValid},children:"Save"}),null),h(s,c(B,{get when(){return e.isLoaded},get children(){return[c(z,{onClick:()=>o(!0),get disabled(){return e.disabled},children:"New"}),c(z,{get onClick(){return e.onClone},get disabled(){return e.disabled},children:"Clone"}),c(z,{theme:"error",onClick:()=>n(!0),get disabled(){return e.disabled},children:"Clear"}),c(z,{theme:"error",onClick:()=>l(!0),get disabled(){return e.disabled},children:"Delete"})]}}),null),h(s,c(pe,{get visible(){return t()},onClose:()=>n(!1),backdropDismiss:!0,get children(){return[(()=>{const a=kn();return $(()=>g(a,Oe.modalTitle)),a})(),(()=>{const a=nd();return $(()=>g(a,Oe.warnText)),a})(),(()=>{const a=An();return h(a,c(z,{theme:"error",onClick:()=>{n(!1),e.onClear()},children:"Clear"}),null),h(a,c(z,{kind:"outline",onClick:()=>n(!1),children:"Cancel"}),null),$(()=>g(a,Oe.warnButtons)),a})()]}}),null),h(s,c(pe,{get visible(){return r()},onClose:()=>l(!1),backdropDismiss:!0,get children(){return[(()=>{const a=kn();return $(()=>g(a,Oe.modalTitle)),a})(),(()=>{const a=rd();return $(()=>g(a,Oe.warnText)),a})(),(()=>{const a=An();return h(a,c(z,{theme:"error",onClick:()=>{l(!1),e.onDelete()},children:"Delete"}),null),h(a,c(z,{kind:"outline",onClick:()=>l(!1),children:"Cancel"}),null),$(()=>g(a,Oe.warnButtons)),a})()]}}),null),h(s,c(pe,{get visible(){return i()},onClose:()=>o(!1),backdropDismiss:!0,get children(){return[(()=>{const a=kn();return $(()=>g(a,Oe.modalTitle)),a})(),(()=>{const a=id();return $(()=>g(a,Oe.warnText)),a})(),(()=>{const a=An();return h(a,c(z,{onClick:()=>{o(!1),e.onNew()},children:"Confirm"}),null),h(a,c(z,{kind:"outline",onClick:()=>o(!1),children:"Cancel"}),null),$(()=>g(a,Oe.warnButtons)),a})()]}}),null),$(()=>g(s,Oe.top)),s})()},ld="_paginationButton_1cakc_1",sd="_paginationInput_1cakc_13",Bt={paginationButton:ld,paginationInput:sd},ad=S("<form><button type=button></button>Page <!> of <!> <button type=button>"),Qi=e=>{const[t,n]=G(e.current);function r(i){i>=1&&i<=e.total&&(e.onChange(i),n(i))}function l(i){i.preventDefault(),r(t())}return(()=>{const i=ad(),o=i.firstChild,s=o.nextSibling,a=s.nextSibling,u=a.nextSibling,d=u.nextSibling,f=d.nextSibling,v=f.nextSibling;return i.addEventListener("submit",l),o.$$click=()=>r(e.current-1),h(o,c(Nl,{})),h(i,c(Pe,{get class(){return Bt.paginationInput},get value(){return t()},onChange:n,onBlur:()=>r(t()),emptyValue:-1,get error(){return!Number.isInteger(t())||t()<=0||t()>e.total}}),a),h(i,()=>e.total,d),v.$$click=()=>r(e.current+1),h(v,c(Il,{})),$(m=>{const _=Bt.pagination,w=Bt.paginationButton,y=e.current<=1,P=Bt.paginationButton,b=e.current>=e.total;return _!==m._v$&&g(i,m._v$=_),w!==m._v$2&&g(o,m._v$2=w),y!==m._v$3&&(o.disabled=m._v$3=y),P!==m._v$4&&g(v,m._v$4=P),b!==m._v$5&&(v.disabled=m._v$5=b),m},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),i})()};we(["click"]);function ud(e){return new Worker("/DSP-Seed-Finder/assets/exporterManager.worker-zWO51otf.js",{type:"module",name:e==null?void 0:e.name})}const cd=async e=>{const{onProgress:t,onGenerate:n,...r}=e,l=new ud;return new Promise(i=>{l.addEventListener("message",o=>{const{type:s,current:a,result:u}=o.data;if(s==="progressing")t(a)&&(i(null),l.terminate());else if(s==="generating")n();else{const d=new Blob([u],{type:r.format==="xlsx"?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"application/zip"});i(d),l.terminate()}}),l.postMessage(r)})};function dd(e){if(e)throw new Error("Exporter in native mode is not implemented");return cd}var pi={exports:{}};function rr(){}rr.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function l(){r.off(e,l),t.apply(n,arguments)}return l._=t,this.on(e,l,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,l=n.length;for(r;r<l;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],l=[];if(r&&t)for(var i=0,o=r.length;i<o;i++)r[i].fn!==t&&r[i].fn._!==t&&l.push(r[i]);return l.length?n[e]=l:delete n[e],this}};pi.exports=rr;var fd=pi.exports.TinyEmitter=rr;const gd="_title_7z1qx_1",vd="_warn_7z1qx_5",hd="_fields_7z1qx_10",_d="_inputStandard_7z1qx_19",md="_inputSeed_7z1qx_23",$d="_progressText_7z1qx_27",bd="_button_7z1qx_32",yd="_download_7z1qx_37",J={title:gd,warn:vd,fields:hd,inputStandard:_d,inputSeed:md,progressText:$d,button:bd,download:yd},Gn=S("<div>"),wd=S("<a>"),Cd=S("<div>Export"),xd=S("<div>Warning: Exporting too many seeds may cause out of memory error."),Sd=S("<div><div>Format</div><div></div><div>Star Count</div><div></div><div>Resource Multiplier</div><div></div><div>Seed Range</div><div> to </div><div>Concurrency</div><div>");function Pd(e,t){return e.replace(/\\\/:*?"<>|/g,"")+"."+(t==="csv"?"zip":t)}async function kd(e,t,n){const r=await hs(e,t,n),l=[];let i;for(const o of r)(i==null?void 0:i.seed)===o.seed?i.indexes.push(o.index):(i={seed:o.seed,indexes:[o.index]},l.push(i));return l}async function Ad(e,t,n){return await ws(e,t,n)}async function Dd(e,t,n,{start:r,end:l,format:i,concurrency:o,exportAllStars:s,starCount:a,resourceMultiplier:u}){const f=await(t==="star"?kd:Ad)(n,r,l);e.emit("start",f.length);let v=!1;return e.once("stop",()=>{v=!0}),await dd(!1)({format:i,concurrency:o,starCount:a,resourceMultiplier:u,exportAllStars:t==="galaxy"||s,results:f,onProgress:_=>(e.emit("progress",_),v),onGenerate:()=>e.emit("end")})}var Ae=function(e){return e[e.Starting=0]="Starting",e[e.Progressing=1]="Progressing",e[e.Generating=2]="Generating",e[e.Done=3]="Done",e}(Ae||{});const Ed=e=>{const[t,n]=G(0),[r,l]=G(0),[i,o]=G(Ae.Done),[s,a]=G(""),u=()=>{switch(i()){case Ae.Starting:return"Retriving Data";case Ae.Progressing:return`Exporting ${t()} / ${r()}`;case Ae.Generating:return"Generating file";case Ae.Done:return"Done"}};let d=()=>{};return me(()=>{if(e.visible){const f=new fd;o(Ae.Starting),f.once("start",v=>{ne(()=>{n(0),l(v),o(Ae.Progressing)})}),f.on("progress",v=>{n(v)}),f.once("end",()=>{o(Ae.Generating)}),d=()=>f.emit("stop"),Dd(f,e.mode,e.id,e.options).then(v=>{if(v){o(Ae.Done);const m=URL.createObjectURL(v);a(_=>(_&&URL.revokeObjectURL(_),m))}})}else d(),d=()=>{},ne(()=>{a(f=>(f&&URL.revokeObjectURL(f),""))})}),nt(()=>{d(),d=()=>{},a(f=>(f&&URL.revokeObjectURL(f),""))}),c(pe,{get visible(){return e.visible},get children(){return[(()=>{const f=Gn();return h(f,u),$(()=>g(f,J.progressText)),f})(),c(B,{get when(){return s()},get children(){const f=wd();return h(f,c(z,{get class(){return J.button},children:"Download"})),$(v=>{const m=J.download,_=e.name,w=s();return m!==v._v$&&g(f,v._v$=m),_!==v._v$2&&je(f,"download",v._v$2=_),w!==v._v$3&&je(f,"href",v._v$3=w),v},{_v$:void 0,_v$2:void 0,_v$3:void 0}),f}}),c(z,{get class(){return J.button},kind:"outline",get onClick(){return e.onClose},get children(){return i()===Ae.Done?"Close":"Stop"}})]}})},eo=e=>{const[t,n]=Dt({start:0,end:99999999,starCount:0,resourceMultiplier:0,format:"csv",concurrency:navigator.hardwareConcurrency,exportAllStars:!1}),[r,l]=G(!1);me(()=>{e.visible?n({starCount:e.starCount,resourceMultiplier:e.resourceMultiplier}):l(!1)});const i=F(()=>Pd(e.name,t.format));return c(pe,{get visible(){return e.visible},get onClose(){return e.onClose},backdropDismiss:!0,get children(){return[(()=>{const o=Cd();return $(()=>g(o,J.title)),o})(),(()=>{const o=xd();return $(()=>g(o,J.warn)),o})(),(()=>{const o=Sd(),s=o.firstChild,a=s.nextSibling,u=a.nextSibling,d=u.nextSibling,f=d.nextSibling,v=f.nextSibling,m=v.nextSibling,_=m.nextSibling,w=_.firstChild,y=_.nextSibling,P=y.nextSibling;return h(a,c($e,{get class(){return J.inputStandard},get value(){return t.format},onChange:b=>n("format",b),options:["csv","xlsx"],getLabel:b=>b})),h(d,c(tr,{get class(){return J.inputStandard},get value(){return t.starCount},onChange:b=>n("starCount",b)})),h(v,c(nr,{get class(){return J.inputStandard},get value(){return t.resourceMultiplier},onChange:b=>n("resourceMultiplier",b)})),h(_,c(Pe,{get class(){return J.inputSeed},get value(){return t.start},onChange:b=>n("start",b),emptyValue:-1,maxLength:8,get error(){return t.start<0||t.start>=t.end}}),w),h(_,c(Pe,{get class(){return J.inputSeed},get value(){return t.end},onChange:b=>n("end",b),emptyValue:-1,maxLength:8,get error(){return t.end>1e8||t.start>=t.end}}),null),h(o,c(B,{get when(){return e.mode==="star"},get children(){return[(()=>{const b=Gn();return h(b,c(ut,{text:"Export all stars instead of only the matching ones",children:"Export all"})),$(()=>g(b,J.label)),b})(),(()=>{const b=Gn();return h(b,c(Zi,{get value(){return t.exportAllStars},onChange:A=>n("exportAllStars",A)})),$(()=>g(b,J.input)),b})()]}}),y),h(P,c(Pe,{get class(){return J.inputStandard},get value(){return t.concurrency},onChange:b=>n("concurrency",b),emptyValue:-1,maxLength:2,get error(){return!Number.isInteger(t.concurrency)||t.concurrency<1}})),$(b=>{const A=J.fields,L=J.label,R=J.input,q=J.label,K=J.input,M=J.label,E=J.input,O=J.label,W=J.input,Y=J.label,ae=J.input;return A!==b._v$4&&g(o,b._v$4=A),L!==b._v$5&&g(s,b._v$5=L),R!==b._v$6&&g(a,b._v$6=R),q!==b._v$7&&g(u,b._v$7=q),K!==b._v$8&&g(d,b._v$8=K),M!==b._v$9&&g(f,b._v$9=M),E!==b._v$10&&g(v,b._v$10=E),O!==b._v$11&&g(m,b._v$11=O),W!==b._v$12&&g(_,b._v$12=W),Y!==b._v$13&&g(y,b._v$13=Y),ae!==b._v$14&&g(P,b._v$14=ae),b},{_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0}),o})(),c(z,{get class(){return J.button},onClick:()=>l(!0),children:"Export"}),c(Ed,{get visible(){return r()},onClose:()=>l(!1),get mode(){return e.mode},get id(){return e.id},get name(){return i()},get options(){return ye(t)}})]}})},Ld=S("<div><div>Seed: "),Od=S("<div>"),Rd=S("<span>"),Md=S("<span>#"),Nd=S("<div>Progress:"),Td=S("<span>Completed!"),Id=S("<div><div>Rules</div><div><div>"),Tr=()=>({id:"",starCount:64,resourceMultiplier:1,concurrency:navigator.hardwareConcurrency,autosave:5,start:0,end:1e8,current:0,found:0,rules:[]}),jt=100,Bd=e=>{const[t,n]=G(null);me(()=>{mt(!1).generate({seed:e.seed,starCount:e.starCount,resourceMultiplier:e.resourceMultiplier}).then(l=>{n(l)})});function r(l){return`/galaxy/${e.seed}/${l}${e.search}`}return c(B,{get when(){return!!t()},get children(){return[(()=>{const l=Ld(),i=l.firstChild;return i.firstChild,h(i,()=>String(e.seed).padStart(8,"0"),null),h(l,c(Qe,{get class(){return be.viewNewTab},get href(){return r(e.index)},target:"_blank",get children(){return["View in new tab",c(jl,{})]}}),null),$(o=>{const s=be.viewTop,a=be.viewTitle;return s!==o._v$&&g(l,o._v$=s),a!==o._v$2&&g(i,o._v$2=a),o},{_v$:void 0,_v$2:void 0}),l})(),c(Ki,{get star(){return t().stars[e.index]},get galaxy(){return t()},buildUrl:r,newPage:!0})]}})},Gd=e=>{const[t,n]=G([]),[r,l]=G(null);let i=-1;const o=F(()=>dn({count:e.starCount,multipler:e.resourceMultiplier}));function s(){if(i===e.page)return;const u=e.page;i=u,console.debug("results loading"),vs(e.id,(u-1)*jt,jt).then(d=>{console.debug("results loaded",d),i===u&&(n(d),i=-1)})}me(s),me(yt(()=>e.updateKey,()=>{t().length<jt&&s()}));function a(u){return`/galaxy/${u.seed}/${u.index}${o()}`}return[(()=>{const u=Od();return h(u,c(Ct,{get each(){return t()},children:d=>c(Qe,{get href(){return a(d())},target:"_blank",get class(){return be.result},onClick:f=>{f.preventDefault(),l(d())},get children(){return[(()=>{const f=Rd();return h(f,()=>String(d().seed).padStart(8,"0")),$(()=>g(f,be.resultSeed)),f})(),(()=>{const f=Md();return f.firstChild,h(f,()=>d().index+1,null),$(()=>g(f,be.resultIndex)),f})()]}})})),$(()=>g(u,be.results)),u})(),c(B,{get when(){return!!r()},get children(){return c(pe,{visible:!0,onClose:()=>l(null),backdropDismiss:!0,get children(){return c(Bd,{get seed(){return r().seed},get index(){return r().index},get starCount(){return e.starCount},get resourceMultiplier(){return e.resourceMultiplier},get search(){return o()}})}})}})]},Vd=()=>{const e=zn(),t=At(),[n,r]=G("Untitled"),[l,i]=G(),[o,s]=Dt(Tr()),[a,u]=G(!1),[d,f]=G(!1),[v,m]=G(!1),[_,w]=fn(),[y,P]=G(1),[b,A]=G(0),L=()=>!!l(),R=()=>o.start>-1&&o.current>o.start,q=()=>_.searching||R(),K=()=>o.start>-1&&o.current>=o.end;function M(x){ne(()=>{x?(t(`/find-star/${x.id}`),i(x),r(x.name)):(t("/find-star"),i(null),r(""))})}async function E(x){const N=await Pr(x.id);N&&ne(()=>{M(x),s(N),f(!1)})}function O(){ne(()=>{s(Tr()),M(null)})}function W(){ne(()=>{const x=n();M(null),r(x+" - Copy"),s({id:"",current:0})})}const Y=F(()=>Zn(o.rules));function ae(){return n()===""||o.start<0||o.end>1e8||o.start>=o.end||o.starCount<un||o.starCount>cn||!Number.isInteger(o.concurrency)||o.concurrency<1||o.autosave<=0?!1:Y()}async function Q(){const x=l();if(x){if(await Cn(ye(o)),x.name!==n()){const N={...x,name:n()};await Sr(N),M(N)}}else{const N=bi(),V={id:N,name:n(),createdAt:Date.now()};await Sr(V);const p={...ye(o),id:N};await Cn(p),ne(()=>{s(p),M(V)});return}}async function k(){const x=l();x&&await fs(x.id),ne(()=>{P(1),s("current",0),s("found",0)})}async function re(){const x=l();x&&await gs(x.id),O()}async function he(){await Q(),w("searching",!0);let x=[];mt(a()).find({gameDesc:{resourceMultiplier:o.resourceMultiplier,starCount:o.starCount},range:[Math.max(o.start,o.current),o.end],concurrency:o.concurrency,autosave:o.autosave,rule:ai(ye(o.rules)),onResult:N=>{console.debug("result",N),x.push(N)},onProgress:N=>{ne(()=>{s("current",V=>Math.max(V,N)),s("found",V=>V+x.length)}),Cn(ye(o),x).then(()=>{A(V=>(V+1)%1024)}),x=[]},onError:N=>{console.error(N),w("searching",!1)},onComplete:()=>{console.debug("done"),w("searching",!1)},onInterrupt:()=>{console.debug("interrupt"),w("searching",!1)}})}function Ee(){mt(a()).stop()}return me(yt(()=>e.profileId,x=>{var N;x&&((N=l())==null?void 0:N.id)!==x&&Promise.all([ds(x),Pr(x)]).then(([V,p])=>{V&&V.id===x&&ne(()=>{i(V),p&&p.id===x&&s(p)})})})),(()=>{const x=Id(),N=x.firstChild,V=N.nextSibling,p=V.firstChild;return h(x,c(Yi,{onLoad:()=>f(!0),onSave:Q,onNew:O,onClone:W,onClear:k,onDelete:re,get disabled(){return _.searching},get isValid(){return ae()},get isLoaded(){return L()}}),N),h(x,c(Ji,{progress:o,onProgressChange:s,get name(){return n()},onNameChange:r,get nativeMode(){return a()},onNativeModeChange:u,get isLoaded(){return L()},get searching(){return _.searching}}),N),h(x,c(Gi,{get value(){return o.rules},onChange:T=>s("rules",T),get disabled(){return q()}}),V),h(p,c(B,{get when(){return _.searching||R()&&!K()},get children(){return[(()=>{const T=Nd();return $(()=>g(T,be.progressText)),T})(),c(Fi,{get class(){return be.progressBar},get current(){return o.current-o.start},get total(){return o.end-o.start}})]}})),h(V,c(B,{get when(){return R()},get children(){return c(z,{onClick:()=>m(!0),children:"Export"})}}),null),h(V,c(Wn,{get fallback(){return c(z,{get disabled(){return!ae()},onClick:he,get children(){return R()?"Resume":"Start"}})},get children(){return[c(ee,{get when(){return _.searching},get children(){return c(z,{onClick:Ee,children:"Pause"})}}),c(ee,{get when(){return K()},get children(){const T=Td();return $(()=>g(T,be.completed)),T}})]}}),null),h(x,c(B,{get when(){return R()},get children(){return[c(Qi,{get current(){return y()},get total(){return Math.max(0,Math.floor((o.found-1)/jt))+1},onChange:P}),c(Gd,{get id(){return l().id},get page(){return y()},get updateKey(){return b()},get starCount(){return o.starCount},get resourceMultiplier(){return o.resourceMultiplier}})]}}),null),h(x,c(ji,{get visible(){return d()},onClose:()=>f(!1),onSelect:E,loadProfiles:cs}),null),h(x,c(eo,{get visible(){return v()},onClose:()=>m(!1),mode:"star",get id(){var T;return((T=l())==null?void 0:T.id)||""},get name(){var T;return((T=l())==null?void 0:T.name)||""},get starCount(){return o.starCount},get resourceMultiplier(){return o.resourceMultiplier}}),null),$(T=>{const Ue=be.content,Ke=be.rules,Xe=be.execute,Ze=be.progress;return Ue!==T._v$3&&g(x,T._v$3=Ue),Ke!==T._v$4&&g(N,T._v$4=Ke),Xe!==T._v$5&&g(V,T._v$5=Xe),Ze!==T._v$6&&g(p,T._v$6=Ze),T},{_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),x})()},jd="_search_1yo23_1",Fd="_searchRow_1yo23_11",qd="_searchTitle_1yo23_18",Wd="_searchInput_1yo23_22",Hd="_loading_1yo23_26",zd="_view_1yo23_33",Ud="_left_1yo23_38",Kd="_star_1yo23_45",Xd="_active_1yo23_54",Zd="_index_1yo23_59",Jd="_right_1yo23_69",ue={search:jd,searchRow:Fd,searchTitle:qd,searchInput:Wd,loading:Hd,view:zd,left:Ud,star:Kd,active:Xd,index:Zd,right:Jd},Yd=S("<form><div>Seed:</div><div></div><div>Star count:</div><div>Resource Multipler:"),Qd=S("<div><div></div><div>"),pd=S("<div>Loading..."),ef=S("<span>"),tf=S("<span>#");function nf(){return Math.floor(Math.random()*1e8)}const rf=()=>{const[e,t]=fn(),[n,r]=G(-1),l=At();function i(){const s=n();return Number.isInteger(s)&&s>=0&&s<1e8}function o(s){s.preventDefault(),i()&&l(`/galaxy/${n()}/0${dn({count:e.settings.view.starCount,multipler:e.settings.view.resourceMultipler})}`)}return(()=>{const s=Yd(),a=s.firstChild,u=a.nextSibling,d=u.nextSibling,f=d.nextSibling;return s.addEventListener("submit",o),h(u,c(Pe,{get class(){return ue.searchInput},get value(){return n()},onChange:r,emptyValue:-1}),null),h(u,c(z,{get class(){return ue.searchRandom},kind:"outline",onClick:()=>r(nf()),children:"Random"}),null),h(u,c(z,{get class(){return ue.searchSubmit},type:"submit",get disabled(){return!i()},children:"View"}),null),h(s,c(tr,{get class(){return ue.searchInput},get value(){return e.settings.view.starCount},onChange:v=>t("settings","view","starCount",v)}),f),h(s,c(nr,{get class(){return ue.searchInput},get value(){return e.settings.view.resourceMultipler},onChange:v=>t("settings","view","resourceMultipler",v)}),null),$(v=>{const m=ue.search,_=ue.searchTitle,w=ue.searchRow,y=ue.searchTitle,P=ue.searchTitle;return m!==v._v$&&g(s,v._v$=m),_!==v._v$2&&g(a,v._v$2=_),w!==v._v$3&&g(u,v._v$3=w),y!==v._v$4&&g(d,v._v$4=y),P!==v._v$5&&g(f,v._v$5=P),v},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),s})()},of=e=>{const[t]=Ho(),n=F(()=>{const{count:s}=t;if(s){const a=parseFloat(s);if(Number.isInteger(a)&&a>=un&&a<=cn)return a}return Un}),r=F(()=>{const{multipler:s}=t;if(s){const a=parseFloat(s);if(bl.includes(a))return a}return Kn}),[l]=ro(async()=>{const s={seed:e.seed,starCount:n(),resourceMultiplier:r()};return mt(!1).generate(s)}),i=F(()=>dn({count:n(),multipler:r()}));function o(s){return`/galaxy/${e.seed}/${s}${i()}`}return c(B,{get when(){return!!l()},get fallback(){return(()=>{const s=pd();return $(()=>g(s,ue.loading)),s})()},get children(){const s=Qd(),a=s.firstChild,u=a.nextSibling;return h(a,c(Ve,{get each(){return l().stars},children:d=>c(Qe,{get href(){return o(d.index)},get class(){return ve(ue.star,d.index===e.index&&ue.active)},get children(){return[(()=>{const f=ef();return h(f,()=>d.name),f})(),(()=>{const f=tf();return f.firstChild,h(f,()=>d.index+1,null),$(()=>g(f,ue.index)),f})()]}})})),h(u,c(Ki,{get star(){return l().stars[e.index]},get galaxy(){return l()},buildUrl:o})),$(d=>{const f=ue.view,v=ue.left,m=ue.right;return f!==d._v$6&&g(s,d._v$6=f),v!==d._v$7&&g(a,d._v$7=v),m!==d._v$8&&g(u,d._v$8=m),d},{_v$6:void 0,_v$7:void 0,_v$8:void 0}),s}})},lf=()=>{const e=zn();return c(B,{get when(){return!!e.seed},get fallback(){return c(rf,{})},get children(){return c(of,{get seed(){return Number(e.seed)},get index(){return Number(e.index)||0}})}})},sf="_content_1lz8u_1",af="_execute_1lz8u_9",uf="_progress_1lz8u_17",cf="_progressBar_1lz8u_24",df="_rules_1lz8u_28",ff="_results_1lz8u_32",gf="_result_1lz8u_32",vf="_viewTop_1lz8u_45",hf="_viewTitle_1lz8u_50",Te={content:sf,execute:af,progress:uf,progressBar:cf,rules:df,results:ff,result:gf,viewTop:vf,viewTitle:hf},_f="_multiRuleEditor_1ao8x_1",mf="_block_1ao8x_8",$f="_row_1ao8x_23",bf="_editRow_1ao8x_27",yf="_description_1ao8x_32",wf="_buttonRuleset_1ao8x_36",Cf="_or_1ao8x_41",xf="_and_1ao8x_45",Sf="_addOr_1ao8x_49",Pf="_addAnd_1ao8x_53",kf="_selectConditionType_1ao8x_58",Af="_inputCount_1ao8x_62",Df="_ruleBuilderTitle_1ao8x_66",Ef="_ruleEditor_1ao8x_71",_e={multiRuleEditor:_f,block:mf,delete:"_delete_1ao8x_14",row:$f,editRow:bf,description:yf,buttonRuleset:wf,or:Cf,and:xf,addOr:Sf,addAnd:Pf,selectConditionType:kf,inputCount:Af,ruleBuilderTitle:Df,ruleEditor:Ef},Vn=S("<div>"),Lf=S("<div>OR"),Of=S("<div><div><span>Has </span><span> </span><span> star(s) that satisfy </span><span>. Description: "),Rf=S("<div>AND"),Mf=S("<div>Ruleset"),Nf=e=>(()=>{const t=Vn();return t.$$click=()=>e.onDelete(),h(t,c($i,{})),$(()=>g(t,_e.delete)),t})(),jn={name:"",rules:[],condition:{type:Z.Gte,value:1}},Tf=e=>{function t(l){e.onChange(e.value.filter((i,o)=>o!==l))}function n(){e.onChange([...e.value,jn])}function r(l,i){e.onChange(e.value.map((o,s)=>l===s?i(o):o))}return[c(Ct,{get each(){return e.value},children:(l,i)=>[c(B,{when:i>0,get children(){const o=Lf();return $(()=>g(o,_e.or)),o}}),(()=>{const o=Of(),s=o.firstChild,a=s.firstChild,u=a.nextSibling,d=u.nextSibling,f=d.nextSibling;return h(s,c($e,{get class(){return _e.selectConditionType},get value(){return l().condition.type},onChange:v=>r(i,m=>({...m,condition:{...m.condition,type:v}})),get options(){return[Z.Gte,Z.Lte,Z.Eq]},getLabel:v=>vi[v],get disabled(){return e.disabled}}),u),h(s,c(Pe,{get class(){return _e.inputCount},get value(){return l().condition.value},onChange:v=>r(i,m=>({...m,condition:{...m.condition,value:v}})),emptyValue:-1,get disabled(){return e.disabled},maxLength:2,get error(){return l().condition.value<=0}}),d),h(s,c(z,{kind:"outline",get class(){return _e.buttonRuleset},onClick:()=>e.onEdit(i),get theme(){return Zn(l().rules)?"default":"error"},children:"this ruleset"}),f),h(o,c(Xi,{get class(){return _e.description},get value(){return l().name},onChange:v=>r(i,m=>({...m,name:v}))}),null),h(o,c(B,{get when(){return!e.disabled},get children(){return c(Nf,{onDelete:()=>t(i)})}}),null),$(v=>{const m=_e.row,_=_e.editRow;return m!==v._v$&&g(o,v._v$=m),_!==v._v$2&&g(s,v._v$2=_),v},{_v$:void 0,_v$2:void 0}),o})()]}),c(B,{get when(){return!e.disabled},get children(){return c(z,{get class(){return _e.addOr},kind:"outline",onClick:n,children:"Add OR rule"})}})]},If=e=>{const[t,n]=G(null);function r(o){const[s,a]=t();e.onChange(e.value.map((u,d)=>d===s?u.map((f,v)=>v===a?{...f,rules:o}:f):u))}function l(o,s){if(o.length>0)e.onChange(e.value.map((a,u)=>u===s?o:a));else{const a=e.value.filter((u,d)=>d!==s);a.length===0?e.onChange([[jn]]):e.onChange(a)}}function i(){e.onChange([...e.value,[jn]])}return(()=>{const o=Vn();return h(o,c(Ct,{get each(){return e.value},children:(s,a)=>[c(B,{when:a>0,get children(){const u=Rf();return $(()=>g(u,_e.and)),u}}),(()=>{const u=Vn();return h(u,c(Tf,{get value(){return s()},onChange:d=>l(d,a),onEdit:d=>n([a,d]),get disabled(){return e.disabled}})),$(()=>g(u,_e.block)),u})()]}),null),h(o,c(B,{get when(){return!e.disabled},get children(){return c(z,{get class(){return _e.addAnd},kind:"outline",onClick:i,children:"Add AND rule"})}}),null),h(o,c(B,{get when(){return t()},children:s=>c(pe,{visible:!0,onClose:()=>n(null),backdropDismiss:!0,get children(){return[(()=>{const a=Mf();return $(()=>g(a,_e.ruleBuilderTitle)),a})(),c(Gi,{get class(){return _e.ruleEditor},get value(){return e.value[s()[0]][s()[1]].rules},onChange:r,get disabled(){return e.disabled}})]}})}),null),$(()=>g(o,_e.multiRuleEditor)),o})()};we(["click"]);const Bf=S("<div>"),Gf=S("<div>Progress:"),Vf=S("<span>Completed!"),jf=S("<div><div>Rules</div><div><div>"),Ft=100,Ir=()=>({id:"",starCount:64,resourceMultiplier:1,concurrency:navigator.hardwareConcurrency,autosave:5,start:0,end:1e8,current:0,found:0,multiRules:[[{rules:[],condition:{type:Z.Gte,value:1},name:""}]]}),Ff=e=>{const[t,n]=G([]);let r=-1;const l=F(()=>dn({count:e.starCount,multipler:e.resourceMultiplier}));function i(){if(r===e.page)return;const s=e.page;r=s,console.debug("results loading"),ys(e.id,(s-1)*Ft,Ft).then(a=>{console.debug("results loaded",a),r===s&&(n(a),r=-1)})}me(i),me(yt(()=>e.updateKey,()=>{t().length<Ft&&i()}));function o(s){return`/galaxy/${s.seed}/0${l()}`}return(()=>{const s=Bf();return h(s,c(Ct,{get each(){return t()},children:a=>c(Qe,{get href(){return o(a())},target:"_blank",get class(){return Te.result},get children(){return String(a().seed).padStart(8,"0")}})})),$(()=>g(s,Te.results)),s})()},qf=()=>{const e=zn(),t=At(),[n,r]=G("Untitled"),[l,i]=G(),[o,s]=Dt(Ir()),[a,u]=G(!1),[d,f]=G(!1),[v,m]=G(!1),[_,w]=fn(),[y,P]=G(1),[b,A]=G(0),L=()=>!!l(),R=()=>o.start>-1&&o.current>o.start,q=()=>_.searching||R(),K=()=>o.start>-1&&o.current>=o.end;function M(x){ne(()=>{x?(t(`/find-galaxy/${x.id}`),i(x),r(x.name)):(t("/find-galaxy"),i(null),r(""))})}async function E(x){const N=await Ar(x.id);N&&ne(()=>{M(x),s(N),f(!1)})}function O(){ne(()=>{s(Ir()),M(null)})}function W(){ne(()=>{const x=n();M(null),r(x+" - Copy"),s({id:"",current:0})})}const Y=F(()=>wl(o.multiRules));function ae(){return n()===""||o.start<0||o.end>1e8||o.start>=o.end||o.starCount<un||o.starCount>cn||!Number.isInteger(o.concurrency)||o.concurrency<1||o.autosave<=0?!1:Y()}async function Q(){const x=l();if(x){if(await xn(ye(o)),x.name!==n()){const N={...x,name:n()};await kr(N),M(N)}}else{const N=bi(),V={id:N,name:n(),createdAt:Date.now()};await kr(V);const p={...ye(o),id:N};await xn(p),ne(()=>{s(p),M(V)});return}}async function k(){const x=l();x&&await $s(x.id),ne(()=>{P(1),s("current",0),s("found",0)})}async function re(){const x=l();x&&await bs(x.id),ne(()=>{O()})}async function he(){await Q(),w("searching",!0);let x=[];mt(a()).find({gameDesc:{resourceMultiplier:o.resourceMultiplier,starCount:o.starCount},range:[Math.max(o.start,o.current),o.end],concurrency:o.concurrency,autosave:o.autosave,rule:$l(ye(o.multiRules)),onResult:N=>{console.debug("result",N),x.push(N)},onProgress:N=>{ne(()=>{s("current",V=>Math.max(V,N)),s("found",V=>V+x.length)}),xn(ye(o),x).then(()=>{A(V=>(V+1)%1024)}),x=[]},onError:N=>{console.error(N),w("searching",!1)},onComplete:()=>{console.debug("done"),w("searching",!1)},onInterrupt:()=>{console.debug("interrupt"),w("searching",!1)}})}function Ee(){mt(a()).stop()}return me(yt(()=>e.profileId,x=>{var N;x&&((N=l())==null?void 0:N.id)!==x&&Promise.all([ms(x),Ar(x)]).then(([V,p])=>{V&&V.id===x&&ne(()=>{i(V),p&&p.id===x&&s(p)})})})),(()=>{const x=jf(),N=x.firstChild,V=N.nextSibling,p=V.firstChild;return h(x,c(Yi,{onLoad:()=>f(!0),onSave:Q,onNew:O,onClone:W,onClear:k,onDelete:re,get disabled(){return _.searching},get isValid(){return ae()},get isLoaded(){return L()}}),N),h(x,c(Ji,{progress:o,onProgressChange:s,get name(){return n()},onNameChange:r,get nativeMode(){return a()},onNativeModeChange:u,get isLoaded(){return L()},get searching(){return _.searching}}),N),h(x,c(If,{get value(){return o.multiRules},onChange:T=>s("multiRules",T),get disabled(){return q()}}),V),h(p,c(B,{get when(){return _.searching||R()&&!K()},get children(){return[(()=>{const T=Gf();return $(()=>g(T,Te.progressText)),T})(),c(Fi,{get class(){return Te.progressBar},get current(){return o.current-o.start},get total(){return o.end-o.start}})]}})),h(V,c(B,{get when(){return R()},get children(){return c(z,{onClick:()=>m(!0),children:"Export"})}}),null),h(V,c(Wn,{get fallback(){return c(z,{get disabled(){return!ae()},onClick:he,get children(){return R()?"Resume":"Start"}})},get children(){return[c(ee,{get when(){return _.searching},get children(){return c(z,{onClick:Ee,children:"Pause"})}}),c(ee,{get when(){return K()},get children(){const T=Vf();return $(()=>g(T,Te.completed)),T}})]}}),null),h(x,c(B,{get when(){return R()},get children(){return[c(Qi,{get current(){return y()},get total(){return Math.max(0,Math.floor((o.found-1)/Ft))+1},onChange:P}),c(Ff,{get id(){return l().id},get page(){return y()},get updateKey(){return b()},get starCount(){return o.starCount},get resourceMultiplier(){return o.resourceMultiplier}})]}}),null),h(x,c(ji,{get visible(){return d()},onClose:()=>f(!1),onSelect:E,loadProfiles:_s}),null),h(x,c(eo,{get visible(){return v()},onClose:()=>m(!1),mode:"galaxy",get id(){var T;return((T=l())==null?void 0:T.id)||""},get name(){var T;return((T=l())==null?void 0:T.name)||""},get starCount(){return o.starCount},get resourceMultiplier(){return o.resourceMultiplier}}),null),$(T=>{const Ue=Te.content,Ke=Te.rules,Xe=Te.execute,Ze=Te.progress;return Ue!==T._v$&&g(x,T._v$=Ue),Ke!==T._v$2&&g(N,T._v$2=Ke),Xe!==T._v$3&&g(V,T._v$3=Xe),Ze!==T._v$4&&g(p,T._v$4=Ze),T},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),x})()},Wf=document.getElementById("root");Po(()=>c(cl,{base:"/DSP-Seed-Finder",root:Hl,get children(){return[c(Mt,{path:"/find-star/:profileId?",component:Vd}),c(Mt,{path:"/find-galaxy/:profileId?",component:qf}),c(Mt,{path:"/galaxy/:seed?/:index?",component:lf}),c(Mt,{path:"",component:()=>c(fl,{href:"/find-star"})})]}}),Wf);
