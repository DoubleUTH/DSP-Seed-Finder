(function(){"use strict";var I={exports:{}};function v(){}v.prototype={on:function(e,n,t){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:n,ctx:t}),this},once:function(e,n,t){var r=this;function o(){r.off(e,o),n.apply(t,arguments)}return o._=n,this.on(e,o,t)},emit:function(e){var n=[].slice.call(arguments,1),t=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=t.length;for(r;r<o;r++)t[r].fn.apply(t[r].ctx,n);return this},off:function(e,n){var t=this.e||(this.e={}),r=t[e],o=[];if(r&&n)for(var s=0,_=r.length;s<_;s++)r[s].fn!==n&&r[s].fn._!==n&&o.push(r[s]);return o.length?t[e]=o:delete t[e],this}},I.exports=v;var B=I.exports.TinyEmitter=v;let u;const b=new Array(128).fill(void 0);b.push(void 0,null,!0,!1);function i(e){return b[e]}let d=b.length;function L(e){e<132||(b[e]=d,d=e)}function g(e){const n=i(e);return L(e),n}let M=0,l=null;function E(){return(l===null||l.byteLength===0)&&(l=new Uint8Array(u.memory.buffer)),l}const x=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},q=typeof x.encodeInto=="function"?function(e,n){return x.encodeInto(e,n)}:function(e,n){const t=x.encode(e);return n.set(t),{read:e.length,written:t.length}};function N(e,n,t){if(t===void 0){const f=x.encode(e),A=n(f.length,1)>>>0;return E().subarray(A,A+f.length).set(f),M=f.length,A}let r=e.length,o=n(r,1)>>>0;const s=E();let _=0;for(;_<r;_++){const f=e.charCodeAt(_);if(f>127)break;s[o+_]=f}if(_!==r){_!==0&&(e=e.slice(_)),o=t(o,r,r=_+e.length*3,1)>>>0;const f=E().subarray(o+_,o+r),A=q(e,f);_+=A.written}return M=_,o}function y(e){return e==null}let h=null;function a(){return(h===null||h.byteLength===0)&&(h=new Int32Array(u.memory.buffer)),h}const O=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&O.decode();function S(e,n){return e=e>>>0,O.decode(E().subarray(e,e+n))}function c(e){d===b.length&&b.push(b.length+1);const n=d;return d=b[n],b[n]=e,n}let m=null;function D(){return(m===null||m.byteLength===0)&&(m=new Float64Array(u.memory.buffer)),m}let p=null;function $(){return(p===null||p.byteLength===0)&&(p=new BigInt64Array(u.memory.buffer)),p}function j(e){const n=typeof e;if(n=="number"||n=="boolean"||e==null)return`${e}`;if(n=="string")return`"${e}"`;if(n=="symbol"){const o=e.description;return o==null?"Symbol":`Symbol(${o})`}if(n=="function"){const o=e.name;return typeof o=="string"&&o.length>0?`Function(${o})`:"Function"}if(Array.isArray(e)){const o=e.length;let s="[";o>0&&(s+=j(e[0]));for(let _=1;_<o;_++)s+=", "+j(e[_]);return s+="]",s}const t=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(t.length>1)r=t[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}function C(e,n,t,r){const o={a:e,b:n,cnt:1,dtor:t},s=(..._)=>{o.cnt++;const f=o.a;o.a=0;try{return r(f,o.b,..._)}finally{--o.cnt===0?u.__wbindgen_export_2.get(o.dtor)(f,o.b):o.a=f}};return s.original=o,s}function P(e,n,t){u.wasm_bindgen__convert__closures__invoke1_mut__h7f338d92eec20e44(e,n,c(t))}function X(e){try{const o=u.__wbindgen_add_to_stack_pointer(-16);u.generate(o,c(e));var n=a()[o/4+0],t=a()[o/4+1],r=a()[o/4+2];if(r)throw g(t);return g(n)}finally{u.__wbindgen_add_to_stack_pointer(16)}}function z(e,n){u.findStars(c(e),c(n))}function w(e,n){try{return e.apply(this,n)}catch(t){u.__wbindgen_exn_store(c(t))}}async function G(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,n)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}else{const t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}function H(){const e={};return e.wbg={},e.wbg.__wbindgen_object_drop_ref=function(n){g(n)},e.wbg.__wbindgen_string_get=function(n,t){const r=i(t),o=typeof r=="string"?r:void 0;var s=y(o)?0:N(o,u.__wbindgen_malloc,u.__wbindgen_realloc),_=M;a()[n/4+1]=_,a()[n/4+0]=s},e.wbg.__wbindgen_cb_drop=function(n){const t=g(n).original;return t.cnt--==1?(t.a=0,!0):!1},e.wbg.__wbindgen_error_new=function(n,t){const r=new Error(S(n,t));return c(r)},e.wbg.__wbindgen_boolean_get=function(n){const t=i(n);return typeof t=="boolean"?t?1:0:2},e.wbg.__wbindgen_is_bigint=function(n){return typeof i(n)=="bigint"},e.wbg.__wbindgen_bigint_from_i64=function(n){return c(n)},e.wbg.__wbindgen_jsval_eq=function(n,t){return i(n)===i(t)},e.wbg.__wbindgen_bigint_from_u64=function(n){const t=BigInt.asUintN(64,n);return c(t)},e.wbg.__wbindgen_number_get=function(n,t){const r=i(t),o=typeof r=="number"?r:void 0;D()[n/8+1]=y(o)?0:o,a()[n/4+0]=!y(o)},e.wbg.__wbindgen_is_object=function(n){const t=i(n);return typeof t=="object"&&t!==null},e.wbg.__wbindgen_in=function(n,t){return i(n)in i(t)},e.wbg.__wbindgen_is_undefined=function(n){return i(n)===void 0},e.wbg.__wbg_found_4f0f08ab9814b693=function(n){const t=worldgen.found(g(n));return c(t)},e.wbg.__wbindgen_is_string=function(n){return typeof i(n)=="string"},e.wbg.__wbindgen_object_clone_ref=function(n){const t=i(n);return c(t)},e.wbg.__wbindgen_jsval_loose_eq=function(n,t){return i(n)==i(t)},e.wbg.__wbindgen_as_number=function(n){return+i(n)},e.wbg.__wbindgen_number_new=function(n){return c(n)},e.wbg.__wbindgen_string_new=function(n,t){const r=S(n,t);return c(r)},e.wbg.__wbg_getwithrefkey_4a92a5eca60879b9=function(n,t){const r=i(n)[i(t)];return c(r)},e.wbg.__wbg_set_9182712abebf82ef=function(n,t,r){i(n)[g(t)]=g(r)},e.wbg.__wbg_queueMicrotask_4d890031a6a5a50c=function(n){queueMicrotask(i(n))},e.wbg.__wbg_queueMicrotask_adae4bc085237231=function(n){const t=i(n).queueMicrotask;return c(t)},e.wbg.__wbindgen_is_function=function(n){return typeof i(n)=="function"},e.wbg.__wbg_get_f01601b5a68d10e3=function(n,t){const r=i(n)[t>>>0];return c(r)},e.wbg.__wbg_length_1009b1af0c481d7b=function(n){return i(n).length},e.wbg.__wbg_new_ffc6d4d085022169=function(){const n=new Array;return c(n)},e.wbg.__wbg_newnoargs_c62ea9419c21fbac=function(n,t){const r=new Function(S(n,t));return c(r)},e.wbg.__wbg_new_bfd4534b584a9593=function(){return c(new Map)},e.wbg.__wbg_next_9b877f231f476d01=function(n){const t=i(n).next;return c(t)},e.wbg.__wbg_next_6529ee0cca8d57ed=function(){return w(function(n){const t=i(n).next();return c(t)},arguments)},e.wbg.__wbg_done_5fe336b092d60cf2=function(n){return i(n).done},e.wbg.__wbg_value_0c248a78fdc8e19f=function(n){const t=i(n).value;return c(t)},e.wbg.__wbg_iterator_db7ca081358d4fb2=function(){return c(Symbol.iterator)},e.wbg.__wbg_get_7b48513de5dc5ea4=function(){return w(function(n,t){const r=Reflect.get(i(n),i(t));return c(r)},arguments)},e.wbg.__wbg_call_90c26b09837aba1c=function(){return w(function(n,t){const r=i(n).call(i(t));return c(r)},arguments)},e.wbg.__wbg_new_9fb8d994e1c0aaac=function(){const n=new Object;return c(n)},e.wbg.__wbg_self_f0e34d89f33b99fd=function(){return w(function(){const n=self.self;return c(n)},arguments)},e.wbg.__wbg_window_d3b084224f4774d7=function(){return w(function(){const n=window.window;return c(n)},arguments)},e.wbg.__wbg_globalThis_9caa27ff917c6860=function(){return w(function(){const n=globalThis.globalThis;return c(n)},arguments)},e.wbg.__wbg_global_35dfdd59a4da3e74=function(){return w(function(){const n=global.global;return c(n)},arguments)},e.wbg.__wbg_set_f2740edb12e318cd=function(n,t,r){i(n)[t>>>0]=g(r)},e.wbg.__wbg_isArray_74fb723e24f76012=function(n){return Array.isArray(i(n))},e.wbg.__wbg_instanceof_ArrayBuffer_e7d53d51371448e2=function(n){let t;try{t=i(n)instanceof ArrayBuffer}catch{t=!1}return t},e.wbg.__wbg_set_d257c6f2da008627=function(n,t,r){const o=i(n).set(i(t),i(r));return c(o)},e.wbg.__wbg_isSafeInteger_f93fde0dca9820f8=function(n){return Number.isSafeInteger(i(n))},e.wbg.__wbg_entries_9e2e2aa45aa5094a=function(n){const t=Object.entries(i(n));return c(t)},e.wbg.__wbg_resolve_6e1c6553a82f85b7=function(n){const t=Promise.resolve(i(n));return c(t)},e.wbg.__wbg_then_3ab08cd4fbb91ae9=function(n,t){const r=i(n).then(i(t));return c(r)},e.wbg.__wbg_then_8371cc12cfedc5a2=function(n,t,r){const o=i(n).then(i(t),i(r));return c(o)},e.wbg.__wbg_buffer_a448f833075b71ba=function(n){const t=i(n).buffer;return c(t)},e.wbg.__wbg_new_8f67e318f15d7254=function(n){const t=new Uint8Array(i(n));return c(t)},e.wbg.__wbg_set_2357bf09366ee480=function(n,t,r){i(n).set(i(t),r>>>0)},e.wbg.__wbg_length_1d25fa9e4ac21ce7=function(n){return i(n).length},e.wbg.__wbg_instanceof_Uint8Array_bced6f43aed8c1aa=function(n){let t;try{t=i(n)instanceof Uint8Array}catch{t=!1}return t},e.wbg.__wbindgen_bigint_get_as_i64=function(n,t){const r=i(t),o=typeof r=="bigint"?r:void 0;$()[n/8+1]=y(o)?BigInt(0):o,a()[n/4+0]=!y(o)},e.wbg.__wbindgen_debug_string=function(n,t){const r=j(i(t)),o=N(r,u.__wbindgen_malloc,u.__wbindgen_realloc),s=M;a()[n/4+1]=s,a()[n/4+0]=o},e.wbg.__wbindgen_throw=function(n,t){throw new Error(S(n,t))},e.wbg.__wbindgen_memory=function(){const n=u.memory;return c(n)},e.wbg.__wbindgen_closure_wrapper494=function(n,t,r){const o=C(n,t,153,P);return c(o)},e}function J(e,n){return u=e.exports,F.__wbindgen_wasm_module=n,p=null,m=null,h=null,l=null,u}async function F(e){if(u!==void 0)return u;typeof e>"u"&&(e=new URL("/DSP-Seed-Finder/assets/dsp_seed_finder_bg-r_XQtad8.wasm",self.location.href));const n=H();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:t,module:r}=await G(await e,n);return J(t,r)}const k="generate",R="find",T="next",U=F(),W=new B,Q={async found(e){const n=new Promise(r=>W.once(T,r));return self.postMessage({type:R,data:e}),await n}};self.worldgen=Q,self.onmessage=e=>{const{type:n,input:t}=e.data;if(n===k){const{seed:r,resourceMultiplier:o=1,starCount:s=64}=t;U.then(()=>{const _=X({seed:r,starCount:s,resourceMultiplier:o});self.postMessage({type:k,data:_})})}else if(n===R){const{game:{seed:r,resourceMultiplier:o=1,starCount:s=64},rule:_}=t;U.then(()=>{z({seed:r,starCount:s,resourceMultiplier:o},_)})}else n===T&&W.emit(T,t)}})();
